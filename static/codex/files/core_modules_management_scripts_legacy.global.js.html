<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>core/modules/management/scripts/legacy.global.js - wp-flawless</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="http://a3d72a45d111006ec192-ec5b80a12b0b09b4d52373336afb4254.r80.cf1.rackcdn.com/usability-dynamics.png" title="wp-flawless"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.1.1</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/API.html">API</a></li>
            
                <li><a href="../classes/Carrington.html">Carrington</a></li>
            
                <li><a href="../classes/Extended_Taxonomies.html">Extended_Taxonomies</a></li>
            
                <li><a href="../classes/Flawless.API.html">Flawless.API</a></li>
            
                <li><a href="../classes/Flawless.Asset.html">Flawless.Asset</a></li>
            
                <li><a href="../classes/Flawless.Branded_Login.html">Flawless.Branded_Login</a></li>
            
                <li><a href="../classes/Flawless.BuddyPress.html">Flawless.BuddyPress</a></li>
            
                <li><a href="../classes/Flawless.Content.html">Flawless.Content</a></li>
            
                <li><a href="../classes/Flawless.Element.html">Flawless.Element</a></li>
            
                <li><a href="../classes/Flawless.Flawless\Shortcode.html">Flawless.Flawless\Shortcode</a></li>
            
                <li><a href="../classes/Flawless.Management.html">Flawless.Management</a></li>
            
                <li><a href="../classes/Flawless.Mobile.html">Flawless.Mobile</a></li>
            
                <li><a href="../classes/Flawless.Navbars.html">Flawless.Navbars</a></li>
            
                <li><a href="../classes/Flawless.Schema.html">Flawless.Schema</a></li>
            
                <li><a href="../classes/Flawless.Settings.html">Flawless.Settings</a></li>
            
                <li><a href="../classes/Flawless.Styles.html">Flawless.Styles</a></li>
            
                <li><a href="../classes/Flawless.Utility.html">Flawless.Utility</a></li>
            
                <li><a href="../classes/Flawless.Widget.html">Flawless.Widget</a></li>
            
                <li><a href="../classes/flawless_wpp_extensions.html">flawless_wpp_extensions</a></li>
            
                <li><a href="../classes/Legacy.html">Legacy</a></li>
            
                <li><a href="../classes/License.html">License</a></li>
            
                <li><a href="../classes/Loader.html">Loader</a></li>
            
                <li><a href="../classes/Log.html">Log</a></li>
            
                <li><a href="../classes/Maintenance.html">Maintenance</a></li>
            
                <li><a href="../classes/Models.html">Models</a></li>
            
                <li><a href="../classes/Module.html">Module</a></li>
            
                <li><a href="../classes/Multisite.html">Multisite</a></li>
            
                <li><a href="../classes/SaaS.html">SaaS</a></li>
            
                <li><a href="../classes/Shortcode.html">Shortcode</a></li>
            
                <li><a href="../classes/Shortcodes.html">Shortcodes</a></li>
            
                <li><a href="../classes/Template Methods.html">Template Methods</a></li>
            
                <li><a href="../classes/Theme.html">Theme</a></li>
            
                <li><a href="../classes/UI.html">UI</a></li>
            
                <li><a href="../classes/Utility.html">Utility</a></li>
            
                <li><a href="../classes/Views.html">Views</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/API.html">API</a></li>
            
                <li><a href="../modules/Branded Login.html">Branded Login</a></li>
            
                <li><a href="../modules/Carrington.html">Carrington</a></li>
            
                <li><a href="../modules/Carrington Build.html">Carrington Build</a></li>
            
                <li><a href="../modules/carrington-build.html">carrington-build</a></li>
            
                <li><a href="../modules/cfct_build.html">cfct_build</a></li>
            
                <li><a href="../modules/default.html">default</a></li>
            
                <li><a href="../modules/Flawless.html">Flawless</a></li>
            
                <li><a href="../modules/Loader.html">Loader</a></li>
            
                <li><a href="../modules/Log.html">Log</a></li>
            
                <li><a href="../modules/Maintenence.html">Maintenence</a></li>
            
                <li><a href="../modules/Management.html">Management</a></li>
            
                <li><a href="../modules/Multisite.html">Multisite</a></li>
            
                <li><a href="../modules/SaaS.html">SaaS</a></li>
            
                <li><a href="../modules/Services_JSON.html">Services_JSON</a></li>
            
                <li><a href="../modules/Shortcodes.html">Shortcodes</a></li>
            
                <li><a href="../modules/taxonomy-landing

This file is part of Taxonomy Landing for WordPress
http:__github.com_crowdfavorite_wp-taxonomy-landing

Copyright (c) 2009-2012 Crowd Favorite, Ltd. All rights reserved.
http:__crowdfavorite.com

Released under the GPL license
http:__www.opensource.org_licenses_gpl-license.php

**********************************************************************
This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
**********************************************************************.html">taxonomy-landing

This file is part of Taxonomy Landing for WordPress
http://github.com/crowdfavorite/wp-taxonomy-landing

Copyright (c) 2009-2012 Crowd Favorite, Ltd. All rights reserved.
http://crowdfavorite.com

Released under the GPL license
http://www.opensource.org/licenses/gpl-license.php

**********************************************************************
This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
**********************************************************************</a></li>
            
                <li><a href="../modules/taxonomy-landing

This file is part of Taxonomy Landing for WordPress
https:__github.com_crowdfavorite_wp-taxonomy-landing

Copyright (c) 2009-2012 Crowd Favorite, Ltd. All rights reserved.
http:__crowdfavorite.com

**********************************************************************
This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
**********************************************************************.html">taxonomy-landing

This file is part of Taxonomy Landing for WordPress
https://github.com/crowdfavorite/wp-taxonomy-landing

Copyright (c) 2009-2012 Crowd Favorite, Ltd. All rights reserved.
http://crowdfavorite.com

**********************************************************************
This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
**********************************************************************</a></li>
            
                <li><a href="../modules/Theme UI.html">Theme UI</a></li>
            
                <li><a href="../modules/UI.html">UI</a></li>
            
                <li><a href="../modules/UsabilityDynamics.html">UsabilityDynamics</a></li>
            
                <li><a href="../modules/Utility.html">Utility</a></li>
            
                <li><a href="../modules/Views.html">Views</a></li>
            
                <li><a href="../modules/WP-Property.html">WP-Property</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: core/modules/management/scripts/legacy.global.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * WP-Property Global
 *
 * Extends ud object.
 *
 * @author team@UD
 * @version 1.0
 */

//** odokienko@UD */
if ( top === self ) {
  //not in a frame
} else {
  //in a frame
  top.location.href = document.location.href;
}

var wpp = ( typeof wpp === &#x27;object&#x27; ) ? wpp : {};

/* Merge UD Global Functions into WPP Global, and Add New Functions */
jQuery.extend( true, wpp, ud, {

  /* Localization data */
  strings: {},

  /* Slug for Scope of this Object */
  scope: &#x27;wpp&#x27;,

  flags: {},

  /**
   * Progress Bar.
   * Usage: jQuery( &#x27;.some_element&#x27; ).append( wpp.progress_bar( { type: &#x27;success&#x27;, frequency : 200 }, function() {  ..do something when done.. } ) );
   *
   * @author Usability Dynamics, Inc.
   */
  progress_bar: function ( args, onComplete ) {
    args = jQuery.extend( true, {
      wrapper: jQuery( &#x27;&lt;div class=&quot;wpp_progress wpp_progress-striped active&quot;&gt;&lt;/div&gt;&#x27; ),
      bar: jQuery( &#x27;&lt;div class=&quot;wpp_bar&quot;&gt;&lt;/div&gt;&#x27; ),
      interval_event: {},
      type: &#x27;info&#x27;,
      start: 0,
      current: 0,
      end: 100,
      increment: 5,
      frequency: 100
    }, args );

    args.wrapper.addClass( &#x27;progress-&#x27; + args.type );
    args.wrapper.append( args.bar );
    args.wrapper.current = args.current;

    args.wrapper.step_up = function () {
      this.current = this.current + args.increment;
      jQuery( args.bar ).width( this.current + &#x27;%&#x27; );
    };

    args.wrapper.set = function ( current ) {
      this.current = current;
      jQuery( args.bar ).width( current + &#x27;%&#x27; );
    };

    if ( args.frequency ) {
      args.interval_event = setInterval( function () {

        args.wrapper.step_up();

        if ( args.current &gt;= 100 ) {

          clearInterval( args.interval_event );

          if ( typeof jQuery.prototype.fadeTo === &#x27;function&#x27; ) {
            args.wrapper.fadeTo( 1500, 0, function () {
              typeof onComplete === &#x27;function&#x27; ? onComplete() : false;
            } );
          } else {
            args.wrapper.css( &#x27;opacity&#x27;, 0 );
            typeof onComplete === &#x27;function&#x27; ? onComplete() : false;
          }
          args.wrapper.removeClass( &#x27;active&#x27; );
        }

      }, args.frequency );
    }

    return args.wrapper;

  },

  /**
   * Create a dynamic Google Map for a listing.
   *
   * @author potanin@UD
   */
  render_map: function ( selector, args ) {

    if ( !jQuery( selector ).length ) {
      return wpp.log( wpp.strings.maps_failure, &#x27;error&#x27; );
    }

    var map = {
      element: jQuery( selector )
    };

    args = jQuery.extend( true, {
      dom_id: selector.attr( &#x27;id&#x27; ),
      height: &#x27;500px&#x27;,
      width: &#x27;100%&#x27;,
      latitude: map.element.attr( &#x27;data-latitude&#x27; ),
      longitude: map.element.attr( &#x27;data-longitude&#x27; ),
      zoom: map.element.attr( &#x27;data-zoom&#x27; ) ? map.element.attr( &#x27;data-zoom&#x27; ) : 10,
      infowindow: {
        title: wpp.strings.infobox_title,
        content: wpp.strings.infobox_content,
        icon_url: &#x27;https://maps.google.com/mapfiles/marker.png&#x27;
      }
    }, args );

    if ( !args.dom_id ) {
      map.element.attr( &#x27;id&#x27;, args.dom_id = &#x27;wpp_google_map&#x27; );
    }

    //** Hide map element until loaded */
    map.element.css( &#x27;opacity&#x27;, 0 );

    if ( typeof google === &#x27;object&#x27; &amp;&amp; typeof google.maps != &#x27;undefined&#x27; ) {

      //** Once we are this far, set the dimensions */
      map.element.height( args.height );
      map.element.width( args.width );

      map.google_object = new google.maps.Map( document.getElementById( args.dom_id ), {
        zoom: args.zoom,
        center: new google.maps.LatLng( args.latitude, args.longitude ),
        mapTypeId: google.maps.MapTypeId.ROADMAP
      } );

      map.marker = new google.maps.Marker( {
        position: new google.maps.LatLng( args.latitude, args.longitude ),
        map: map.google_object,
        title: args.infowindow.title,
        icon: args.icon_url
      } );

      if ( args.infowindow ) {
        map.infowindow = new google.maps.InfoWindow( {
          content: args.infowindow.content
        } );
      }

      google.maps.event.addListenerOnce( map.google_object, &#x27;idle&#x27;, function () {

        typeof jQuery.prototype.fadeTo === &#x27;function&#x27; ? map.element.fadeTo( 2000, 1 ) : map.element.css( &#x27;opacity&#x27;, 1 );

        map.infowindow.open( map.google_object, map.marker );

        google.maps.event.addListener( map.infowindow, &#x27;domready&#x27;, function () {

          document.getElementById( &#x27;infowindow&#x27; ).parentNode.style.overflow = &#x27;hidden&#x27;;
          document.getElementById( &#x27;infowindow&#x27; ).parentNode.parentNode.style.overflow = &#x27;hidden&#x27;;
        } );

        google.maps.event.addListener( map.marker, &#x27;click&#x27;, function () {
          map.infowindow.open( map.google_object, map.marker );
        } );

      } );

    }

  },

  /**
   * Add Fancybox support, if library available.
   *
   * @author potanin@UD
   */
  enable_fancybox: function ( selector, args ) {

    args = {
      &#x27;transitionIn&#x27;: &#x27;elastic&#x27;,
      &#x27;transitionOut&#x27;: &#x27;elastic&#x27;,
      &#x27;speedIn&#x27;: 600,
      &#x27;speedOut&#x27;: 200,
      &#x27;overlayShow&#x27;: false
    };

    if ( typeof jQuery.fn.fancybox === &#x27;function&#x27; ) {
      jQuery( selector ? selector : &#x27;a.fancybox_image, .gallery-item a&#x27; ).fancybox( args );
    }

  },

  /**
   * Add Remove Notification support.
   *
   * @author peshkov@UD
   */
  enable_remove_notification: function ( selector, notice ) {
    var s = selector ? selector : &#x27;a.wpp_remove&#x27;;
    jQuery( s ).live( &#x27;click&#x27;, function () {
      var link = jQuery( this ).attr( &#x27;href&#x27; ), n = &#x27;&#x27;;
      if ( typeof link === &#x27;undefined&#x27; || link === &#x27;&#x27; ) {
        link = ( typeof jQuery( this ).attr( &#x27;link&#x27; ) != &#x27;undefined&#x27; ) ? jQuery( this ).attr( &#x27;link&#x27; ) : false;
      }
      if ( link ) {
        if ( typeof notice === &#x27;undefined&#x27; || notice === &#x27;&#x27; ) {
          n = jQuery( this ).attr( &#x27;data-notice&#x27; );
          if ( typeof n === &#x27;undefined&#x27; || n === &#x27;&#x27; ) {
            n = wpp.strings.remove_confirmation;
          }
        } else {
          n = notice;
        }
        if ( confirm( n ) ) {
          window.location = link;
        }
        return false;
      }
    } );

  },

  /**
   * Apply currency formatting to a passed number, or add change event listener to a DOM object.
   *
   * @author potanin@UD
   */
  format_currency: function ( selector ) {

    var _format = function ( value ) {
      if ( typeof jQuery.prototype.number_format === &#x27;function&#x27; ) {
        value = jQuery().number_format( value.replace( /[^\d|\.]/g, &#x27;&#x27; ), {
          numberOfDecimals: 0,
          decimalSeparator: &#x27;.&#x27;,
          thousandSeparator: &#x27;,&#x27;
        } );
      }

      return value === &#x27;NaN&#x27; ? &#x27;&#x27; : value;

    };

    selector = ( jQuery( selector ).length &gt; 0 ) ? jQuery( selector ) : selector;

    if ( typeof selector === &#x27;number&#x27; || typeof selector === &#x27;string&#x27; ) {
      return _format( selector );
    }

    if ( typeof selector === &#x27;object&#x27; ) {
      jQuery( selector ).change( function () {
        jQuery( this ).val( _format( jQuery( this ).val() ) );
      } );
    }

  },

  /**
   * Format a passed variable, or attach
   *
   *
   */
  format_number: function ( selector ) {

    var _format = function ( value ) {
      if ( typeof jQuery.prototype.number_format === &#x27;function&#x27; ) {
        value = jQuery().number_format( value.replace( /[^\d|\.]/g, &#x27;&#x27; ) );
        return value === &#x27;NaN&#x27; ? &#x27;&#x27; : value;
      }
    };

    selector = ( jQuery( selector ).length &gt; 0 ) ? jQuery( selector ) : selector;

    if ( typeof selector === &#x27;number&#x27; || typeof selector === &#x27;string&#x27; ) {
      return _format( selector );
    }

    if ( typeof selector === &#x27;object&#x27; ) {
      jQuery( selector ).change( function () {
        jQuery( this ).val( _format( jQuery( this ).val() ) );
      } );
    }

  },

  /**
   *
   *
   *
   */
  add_commas: function ( string ) {

    string += &#x27;&#x27;;
    x = string.split( &#x27;.&#x27; );
    x1 = x[0];
    x2 = x.length &gt; 1 ? &#x27;.&#x27; + x[1] : &#x27;&#x27;;
    var rgx = /(\d+)(\d{3})/;
    while ( rgx.test( x1 ) ) {
      x1 = x1.replace( rgx, &#x27;$1&#x27; + &#x27;,&#x27; + &#x27;$2&#x27; );
    }

    return x1 + x2;

  },

  /**
   * Dynamic table
   */
  table: {

    flags: {
      table_sortable: false
    },

    /**
     * Add Sort functionality to Table
     */
    sortable: function () {

      if ( typeof jQuery.fn.sortable === &#x27;function&#x27; ) {

        jQuery( &#x27;table.wpp_sortable tbody&#x27; ).sortable();

        //** The event should be added only at once. So we check flag. */
        if ( !wpp.table.flags.table_sortable ) {
          wpp.table.flags.table_sortable = true;
          jQuery( &#x27;table.wpp_sortable tbody tr&#x27; ).live( &quot;mouseover mouseout&quot;, function ( event ) {
            if ( event.type === &quot;mouseover&quot; ) {
              jQuery( this ).addClass( &quot;wpp_draggable_handle_show&quot; );
            } else {
              jQuery( this ).removeClass( &quot;wpp_draggable_handle_show&quot; );
            }
          } );
        }

      }

    },

    /**
     * Adds a row to a Dynamic Table
     *
     * @author potanin@UD
     */
    add_row: function ( element ) {
      &#x27;use strict&#x27;;
      wpp.log( &#x27;wpp.add_row()&#x27;, arguments );
      var auto_increment = false;
      var table = jQuery( element ).closest( &#x27;.ud_ui_dynamic_table&#x27; );
      var table_id = jQuery( table ).attr( &quot;id&quot; );
      var unique = Math.floor( Math.random() * 1000000 );
      var cloned = jQuery( &quot;.wpp_dynamic_table_row:last&quot;, table ).clone();
      var callback_function = jQuery( element ).attr( &#x27;data-callback-function&#x27; );

      /**
       * Set unique IDs and FORs of DOM elements recursivly
       *
       * @param object el. jQuery DOM object
       * @param integer unique. Unique suffix which will be added to all IDs and FORs
       * @author Maxim Peshkov
       */
      var wpp_set_unique_ids = function ( el, unique ) {
        if ( typeof el === &quot;undefined&quot; || el.size() === 0 ) {
          return;
        }

        el.each( function () {
          var child = jQuery( this );

          if ( child.children().size() &gt; 0 ) {
            wpp_set_unique_ids( child.children(), unique );
          }

          var id = child.attr( &#x27;id&#x27; );
          if ( typeof id != &#x27;undefined&#x27; ) {
            child.attr( &#x27;id&#x27;, id + &#x27;_&#x27; + unique );
          }

          var efor = child.attr( &#x27;for&#x27; );
          if ( typeof efor != &#x27;undefined&#x27; ) {
            child.attr( &#x27;for&#x27;, efor + &#x27;_&#x27; + unique );
          }
        } );
      };

      //* Determine if table rows are numeric */
      if ( jQuery( table ).attr( &#x27;auto_increment&#x27; ) === &#x27;true&#x27; || jQuery( table ).attr( &#x27;data-auto_increment&#x27; ) === &#x27;true&#x27; ) {
        var auto_increment = true;
      } else if ( jQuery( table ).attr( &#x27;use_random_row_id&#x27; ) === &#x27;true&#x27; ) {
        var use_random_row_id = true;
      } else if ( jQuery( table ).attr( &#x27;allow_random_slug&#x27; ) === &#x27;true&#x27; ) {
        var allow_random_slug = true;
      }

      wpp_set_unique_ids( cloned, unique );

      //* Increment name value automatically */
      if ( auto_increment ) {

        //* Cycle through all child elements and fix names */
        jQuery( &#x27;input, select, textarea&#x27;, cloned ).each( function ( element ) {
          var old_name = jQuery( this ).attr( &#x27;name&#x27; );
          var matches = old_name.match( /\[(\d{1,2})\]/ );
          var old_count = parseInt( matches[1] ) ? parseInt( matches[1] ) : 100;
          var new_count = old_count + 1;
          var tries = 0;

          //** Increase incrementally until we get a unique name */
          while ( jQuery( &#x27;[name=&quot;&#x27; + old_name.replace( &#x27;[&#x27; + old_count + &#x27;]&#x27;, &#x27;[&#x27; + new_count + &#x27;]&#x27; ) + &#x27;&quot;]&#x27; ).length ) {
            new_count = new_count + 1;
            tries = tries + 1;

            if ( tries === 10 ) {
              break;
            }

          }

          jQuery( this ).attr( &#x27;name&#x27;, old_name.replace( &#x27;[&#x27; + old_count + &#x27;]&#x27;, &#x27;[&#x27; + new_count + &#x27;]&#x27; ) );

        } );

      } else if ( use_random_row_id ) {

        //* Get the current random id of row */
        var random_row_id = jQuery( cloned ).attr( &#x27;random_row_id&#x27; );
        var new_random_row_id = Math.floor( Math.random() * 1000000 );

        //* Cycle through all child elements and fix names */
        jQuery( &#x27;input,select,textarea&#x27;, cloned ).each( function ( element ) {
          var old_name = jQuery( this ).attr( &#x27;name&#x27; );
          if ( typeof old_name != &#x27;undefined&#x27; ) {
            var new_name = old_name.replace( &#x27;[&#x27; + random_row_id + &#x27;]&#x27;, &#x27;[&#x27; + new_random_row_id + &#x27;]&#x27; );
            jQuery( this ).attr( &#x27;name&#x27;, new_name );
          }
        } );

        jQuery( cloned ).attr( &#x27;random_row_id&#x27;, new_random_row_id );

      } else if ( allow_random_slug ) {

        //* Update Row names */
        var slug_setter = jQuery( &quot;input.slug_setter&quot;, cloned );
        if ( slug_setter.length &gt; 0 ) {
          updateRowNames( slug_setter.get( 0 ), true );
        }

      }

      //* Insert new row after last one */
      jQuery( cloned ).appendTo( table );

      //* Get Last row to update names to match slug */
      var added_row = jQuery( &quot;.wpp_dynamic_table_row:last&quot;, table );

      //* Bind ( Set ) ColorPicker with new fields &#x27;.wpp_input_colorpicker&#x27; */
      bindColorPicker( added_row );
      // Display row just in case
      jQuery( added_row ).show();

      //* Blank out all values */
      jQuery( &quot;textarea&quot;, added_row ).val( &#x27;&#x27; );
      jQuery( &quot;select&quot;, added_row ).val( &#x27;&#x27; );
      jQuery( &quot;input[type=text]&quot;, added_row ).val( &#x27;&#x27; );
      jQuery( &quot;input[type=checkbox]&quot;, added_row ).attr( &#x27;checked&#x27;, false );
      jQuery( &quot;.wpp_remove_row .wpp_link&quot;, added_row ).show();

      //* Unset &#x27;new_row&#x27; attribute */
      jQuery( added_row ).attr( &#x27;new_row&#x27;, &#x27;true&#x27; );

      //* Focus on new element */
      jQuery( &#x27;input.slug_setter&#x27;, added_row ).focus();

      //* Fire Event after Row added to the Table */
      added_row.trigger( &#x27;added&#x27; );

      if ( callback_function ) {
        wpp_call_function( callback_function, window, added_row );
      }

      return added_row;
    },

    /**
     * Delete row from a Dynamic Table
     *
     * @author peshkov@UD
     */
    remove_row: function ( element ) {
      var row, table, row_count;

      if ( typeof element === &#x27;undefined&#x27; ) return false;
      row = jQuery( element ).closest( &#x27;tr&#x27; );
      if ( !row.length &gt; 0 ) return false;
      table = row.closest( &#x27;table&#x27; );
      if ( !table.length &gt; 0 ) return false;
      row_count = table.find( &#x27;tbody tr&#x27; ).length;

      //* Confirm */
      if ( !confirm( wpp.strings.remove_confirmation ) ) {
        return false;
      }
      //* Blank out all values */
      jQuery( &quot;input[type=text]&quot;, row ).val( &#x27;&#x27; );
      jQuery( &quot;input[type=checkbox]&quot;, row ).attr( &#x27;checked&#x27;, false );
      //* Don&#x27;t hide last row */
      if ( row_count &gt; 1 ) {
        row.hide();
        row.remove();
      }
      table.trigger( &#x27;row_removed&#x27;, [row] );

    }

  }

}, wpp );

/**
 * Backwards Compatibility.
 *
 */
function wpp_format_currency ( selector ) {
  wpp.format_currency( selector );
}

/**
 * Backwards Compatibility.
 *
 */
function wpp_format_number ( selector ) {
  wpp.format_number( selector );
}

/**
 * Backwards Compatibility.
 *
 */
function wpp_add_commas ( string ) {
  wpp.add_commas( string );
}



    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
