<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>core/modules/theme-ui/theme-ui.php - Flawless</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="http://a3d72a45d111006ec192-ec5b80a12b0b09b4d52373336afb4254.r80.cf1.rackcdn.com/usability-dynamics.png" title="Flawless"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.1.1</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/: Flawless.Element.html">: Flawless.Element</a></li>
            
                <li><a href="../classes/: Flawless.Flawless_Module.html">: Flawless.Flawless_Module</a></li>
            
                <li><a href="../classes/: Flawless.Flawless_Shortcode.html">: Flawless.Flawless_Shortcode</a></li>
            
                <li><a href="../classes/: Flawless.Flawless_Widget.html">: Flawless.Flawless_Widget</a></li>
            
                <li><a href="../classes/: Flawless.flawless_wpp_extensions.html">: Flawless.flawless_wpp_extensions</a></li>
            
                <li><a href="../classes/: Flawless.License.html">: Flawless.License</a></li>
            
                <li><a href="../classes/Shortcodes.html">Shortcodes</a></li>
            
                <li><a href="../classes/Template Functions.html">Template Functions</a></li>
            
                <li><a href="../classes/Template Methods.html">Template Methods</a></li>
            
                <li><a href="../classes/Theme UI.html">Theme UI</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/Core Assets.html">Core Assets</a></li>
            
                <li><a href="../modules/Flawless.html">Flawless</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: core/modules/theme-ui/theme-ui.php</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&lt;?php
/**
 * Name: Flawless Theme UI
 * Description: The UI for the Flawless theme.
 * Author: Usability Dynamics, Inc.
 * Version: 1.0
 * Copyright 2010 - 2012 Usability Dynamics, Inc.
 */

// namespace Flawless;

/**
 * Settings UI.
 *
 * @todo Disabled Features toggler checkboxes are not being rendered when a feature is disabled. - potanin@UD 5/30/12
 *
 * @module Flawless
 * @submodule Core Assets
 * @class Theme UI
 * @static
 */
class Flawless_ui extends Module {

  /**
   * Renders extra fields on term editing pages.
   *
   * @todo fix issue w/ content submitted by the_editor being overwritten by description field by filter.
   * @author potanin@UD
   */
  function taxonomy_edit_form_fields( $tag, $taxonomy ) {
    global $post_ID;

    $_post_ID = $post_ID;

    $post = get_post_for_extended_term( $tag, $tag-&gt;taxonomy );

    if ( !$post ) {
      return;
    }

    $post_ID = $post-&gt;ID;

    do_action( &#x27;flawless::extended_term_form_fields&#x27;, $tag, $post );

    if ( !$post-&gt;ID ) {
      return;
    }

    ?&gt;

    &lt;tr class=&quot;form-field hidden&quot;&gt;
      &lt;th scope=&quot;row&quot; valign=&quot;top&quot;&gt;&lt;/th&gt;
      &lt;td&gt;
        &lt;input type=&quot;hidden&quot; name=&quot;extended_post_id&quot; value=&quot;&lt;?php echo esc_attr( $post-&gt;ID ) ?&gt;&quot;/&gt;
        &lt;input type=&quot;hidden&quot; name=&quot;post_data[ID]&quot; value=&quot;&lt;?php echo esc_attr( $post-&gt;ID ) ?&gt;&quot;/&gt;
        &lt;a class=&quot;button&quot; target=&quot;_blank&quot;
          href=&quot;&lt;?php echo get_edit_post_link( $post-&gt;ID ); ?&gt;&quot;&gt;&lt;?php _e( &#x27;Open Advanced Editor&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/a&gt;
      &lt;/td&gt;
    &lt;/tr&gt;

    &lt;?php if ( current_user_can( &#x27;upload_files&#x27; ) ) { ?&gt;
      &lt;tr class=&quot;form-field&quot;&gt;
        &lt;th scope=&quot;row&quot; valign=&quot;top&quot;&gt;&lt;?php _e( &#x27;Images&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/th&gt;
        &lt;td&gt;
          &lt;iframe style=&quot;width: 100%;height: 400px&quot; src=&quot;&lt;?php echo get_upload_iframe_src(); ?&gt;&quot;&gt;&lt;/iframe&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;?php } ?&gt;

    &lt;?php

    $post_ID = $_post_ID;

  }

  /**
   * When Term Meta is enabled, this is UI displayed on Taxonomy Edit pages before the Add New form.
   *
   * @todo Implement a dynamic table for addition of meta keys and selection of input types. - potanin@UD
   * @author potanin@UD
   */
  function taxonomy_pre_add_form( $taxonomy ) {
    global $flawless;

    if ( !current_user_can( &#x27;manage_options&#x27; ) ) {
      return;
    }

    $tax = get_taxonomy( $taxonomy );

    return;

    ?&gt;

    &lt;div class=&quot;form-wrap&quot;&gt;
      &lt;h3&gt;&lt;?php _e( &#x27;Taxonomy Meta&#x27; ); ?&gt;&lt;/h3&gt;

      &lt;form id=&quot;addtag&quot; method=&quot;post&quot; action=&quot;#&quot; class=&quot;validate&quot;&gt;

        &lt;table class=&quot;widefat wpp_something_advanced_wrapper ud_ui_dynamic_table&quot; sortable_table=&quot;true&quot;
          allow_random_slug=&quot;false&quot;&gt;
          &lt;tbody&gt;
          &lt;?php foreach ( (array) $flawless[ &#x27;business_card&#x27; ][ &#x27;data&#x27; ] as $slug =&gt; $data ) { ?&gt;
            &lt;tr
              class=&quot;flawless_dynamic_table_row &lt;?php echo( $data[ &#x27;locked&#x27; ] == &#x27;true&#x27; ? &#x27;flawless_locked_row&#x27; : &#x27;&#x27; ); ?&gt;&quot;
              slug=&quot;&lt;?php echo $slug; ?&gt;&quot; new_row=&quot;false&quot;
              lock_row=&quot;&lt;?php echo( $data[ &#x27;locked&#x27; ] == &#x27;true&#x27; ? &#x27;true&#x27; : &#x27;false&#x27; ); ?&gt;&quot;&gt;
              &lt;th&gt;
                &lt;div class=&quot;delete_icon flawless_delete_row&quot; verify_action=&quot;true&quot;&gt;&lt;/div&gt;
                &lt;input type=&quot;text&quot; id=&quot;flawless_card_&lt;?php echo $slug; ?&gt;&quot; class=&quot;slug_setter&quot;
                  name=&quot;flawless_settings[business_card][data][&lt;?php echo $slug; ?&gt;][label]&quot;
                  value=&quot;&lt;?php echo $data[ &#x27;label&#x27; ]; ?&gt;&quot;/&gt;
              &lt;/th&gt;
              &lt;td class=&quot;draggable_col&quot;&gt;
                &lt;input type=&quot;text&quot; id=&quot;flawless_card_&lt;?php echo $slug; ?&gt;&quot;
                  name=&quot;flawless_settings[business_card][data][&lt;?php echo $slug; ?&gt;][label]&quot;
                  value=&quot;&lt;?php echo $data[ &#x27;label&#x27; ]; ?&gt;&quot;/&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;?php } ?&gt;
          &lt;/tbody&gt;
          &lt;tfoot&gt;
          &lt;tr&gt;
            &lt;td colspan=&#x27;2&#x27;&gt;&lt;input type=&quot;button&quot; class=&quot;flawless_add_row button-secondary&quot;
                value=&quot;&lt;?php _e( &#x27;Add Row&#x27;, &#x27;flawless&#x27; ) ?&gt;&quot;/&gt;&lt;/td&gt;
          &lt;/tr&gt;
          &lt;/tfoot&gt;
        &lt;/table&gt;

        &lt;?php submit_button( &#x27;Save&#x27;, &#x27;button&#x27; ); ?&gt;
      &lt;/form&gt;
    &lt;/div&gt;

  &lt;?php

  }

  /**
   * Display a splash screen on update or new install
   *
   * @todo Once Flawless::parse_readme() is updated to return data via associative array, this can be improved - potanin@UD
   * @author potanin@UD
   */
  function show_update_screen( $splash_type ) {
    $change_log = Flawless::parse_readme(); ?&gt;

    &lt;div class=&quot;wrap flawless-update about-wrap flawless_settings_page&quot;&gt;
      &lt;h1&gt;Welcome to Flawless &lt;?php echo Flawless_Version; ?&gt;&lt;/h1&gt;

      &lt;div
        class=&quot;about-text&quot;&gt;&lt;?php printf( __( &#x27;Thank you for updating to the latest version! Please take a look at some of the updates, &lt;a href=&quot;%1s&quot;&gt;go to dashboard&lt;/a&gt; or &lt;a href=&quot;%2s&quot;&gt;view theme settings&lt;/a&gt;.&#x27;, &#x27;flawless&#x27; ), admin_url(), &#x27;#flawless_action#toggle=.flawless_settings_page&#x27; ); ?&gt;&lt;/div&gt;
      &lt;div class=&quot;changelog point-releases&quot;&gt;&lt;?php echo $change_log; ?&gt;&lt;/div&gt;
      &lt;div class=&quot;return-dashboard&quot;&gt;&lt;a
          href=&quot;&lt;?php echo esc_url( admin_url() ); ?&gt;&quot;&gt;&lt;?php _e( &#x27;Go to Dashboard &amp;rarr; Home&#x27; ); ?&gt;&lt;/a&gt;&lt;/div&gt;
    &lt;/div&gt;

  &lt;?php

  }

  /**
   * Primary Options Tab
   *
   * Footer and Header elements combined into header_elemeners in 0.5.0
   *
   * @author potanin@UD
   * @since Flawless 0.1.0
   */
  function options_ui_general( $flawless ) {

    if ( current_theme_supports( &#x27;header-navbar&#x27; ) ) {
      $flawless[ &#x27;options_ui&#x27; ][ &#x27;header_elements&#x27; ][ &#x27;navbar&#x27; ] = array(
        &#x27;label&#x27; =&gt; __( &#x27;Navbar&#x27;, &#x27;flawless&#x27; ),
        &#x27;id&#x27; =&gt; &#x27;navbar&#x27;,
        &#x27;name&#x27; =&gt; &#x27;flawless_settings[disabled_theme_features][header-navbar]&#x27;,
        &#x27;position&#x27; =&gt; 10,
        &#x27;setting&#x27; =&gt; $flawless[ &#x27;disabled_theme_features&#x27; ][ &#x27;header-navbar&#x27; ],
        &#x27;callback&#x27; =&gt; array( &#x27;Flawless_ui&#x27;, &#x27;options_header_navbar&#x27; ),
        &#x27;toggle_label&#x27; =&gt; __( &#x27;Do not show the Navbar.&#x27;, &#x27;flawless&#x27; )
      );
    }

    if ( current_theme_supports( &#x27;mobile-navbar&#x27; ) ) {
      $flawless[ &#x27;options_ui&#x27; ][ &#x27;header_elements&#x27; ][ &#x27;mobile-navbar&#x27; ] = array(
        &#x27;label&#x27; =&gt; __( &#x27;Mobile Navbar&#x27;, &#x27;flawless&#x27; ),
        &#x27;id&#x27; =&gt; &#x27;mobile-navbar&#x27;,
        &#x27;name&#x27; =&gt; &#x27;flawless_settings[disabled_theme_features][mobile-navbar]&#x27;,
        &#x27;position&#x27; =&gt; 15,
        &#x27;setting&#x27; =&gt; $flawless[ &#x27;disabled_theme_features&#x27; ][ &#x27;mobile-navbar&#x27; ],
        &#x27;callback&#x27; =&gt; array( &#x27;Flawless_ui&#x27;, &#x27;options_mobile_navbar&#x27; ),
        &#x27;toggle_label&#x27; =&gt; __( &#x27;Do not use a Mobile Navbar.&#x27;, &#x27;flawless&#x27; )
      );
    }

    $flawless[ &#x27;options_ui&#x27; ][ &#x27;header_elements&#x27; ][ &#x27;search&#x27; ] = array(
      &#x27;label&#x27; =&gt; __( &#x27;Header Search&#x27;, &#x27;flawless&#x27; ),
      &#x27;id&#x27; =&gt; &#x27;header-search&#x27;,
      &#x27;name&#x27; =&gt; &#x27;flawless_settings[disabled_theme_features][header-search]&#x27;,
      &#x27;position&#x27; =&gt; 20,
      &#x27;setting&#x27; =&gt; $flawless[ &#x27;disabled_theme_features&#x27; ][ &#x27;header-search&#x27; ],
      &#x27;callback&#x27; =&gt; array( &#x27;Flawless_ui&#x27;, &#x27;options_header_search&#x27; ),
      &#x27;toggle_label&#x27; =&gt; __( &#x27;Do not show search box in header.&#x27;, &#x27;flawless&#x27; )
    );

    $flawless[ &#x27;options_ui&#x27; ][ &#x27;header_elements&#x27; ][ &#x27;logo&#x27; ] = array(
      &#x27;label&#x27; =&gt; __( &#x27;Logo&#x27;, &#x27;flawless&#x27; ),
      &#x27;id&#x27; =&gt; &#x27;options_header_logo&#x27;,
      &#x27;name&#x27; =&gt; &#x27;flawless_settings[disabled_theme_features][header-logo]&#x27;,
      &#x27;position&#x27; =&gt; 40,
      &#x27;setting&#x27; =&gt; $flawless[ &#x27;disabled_theme_features&#x27; ][ &#x27;header-logo&#x27; ],
      &#x27;toggle_label&#x27; =&gt; __( &#x27;Hide logo from header.&#x27;, &#x27;flawless&#x27; ),
      &#x27;callback&#x27; =&gt; array( &#x27;Flawless_ui&#x27;, &#x27;options_header_logo&#x27; )
    );

    if ( current_theme_supports( &#x27;header-dropdowns&#x27; ) ) {
      $flawless[ &#x27;options_ui&#x27; ][ &#x27;header_elements&#x27; ][ &#x27;dropdowns&#x27; ] = array(
        &#x27;label&#x27; =&gt; __( &#x27;Header Dropdowns&#x27;, &#x27;flawless&#x27; ),
        &#x27;id&#x27; =&gt; &#x27;header-dropdowns&#x27;,
        &#x27;name&#x27; =&gt; &#x27;flawless_settings[disabled_theme_features][header-dropdowns]&#x27;,
        &#x27;position&#x27; =&gt; 50,
        &#x27;setting&#x27; =&gt; $flawless[ &#x27;disabled_theme_features&#x27; ][ &#x27;header-dropdowns&#x27; ],
        &#x27;toggle_label&#x27; =&gt; __( &#x27;Disable the header dropdown sections.&#x27;, &#x27;flawless&#x27; )
      );
    }

    $flawless[ &#x27;options_ui&#x27; ][ &#x27;header_elements&#x27; ][ &#x27;header_text&#x27; ] = array(
      &#x27;label&#x27; =&gt; __( &#x27;Header Text&#x27;, &#x27;flawless&#x27; ),
      &#x27;id&#x27; =&gt; &#x27;header-text&#x27;,
      &#x27;name&#x27; =&gt; &#x27;flawless_settings[disabled_theme_features][header_text]&#x27;,
      &#x27;position&#x27; =&gt; 20,
      &#x27;setting&#x27; =&gt; $flawless[ &#x27;disabled_theme_features&#x27; ][ &#x27;header_text&#x27; ],
      &#x27;toggle_label&#x27; =&gt; __( &#x27;Do not show copyright in footer.&#x27;, &#x27;flawless&#x27; ),
      &#x27;callback&#x27; =&gt; array( &#x27;Flawless_ui&#x27;, &#x27;options_header_text&#x27; )
    );

    $flawless[ &#x27;options_ui&#x27; ][ &#x27;header_elements&#x27; ][ &#x27;footer_text&#x27; ] = array(
      &#x27;label&#x27; =&gt; __( &#x27;Footer Text&#x27;, &#x27;flawless&#x27; ),
      &#x27;id&#x27; =&gt; &#x27;footer-copyright&#x27;,
      &#x27;name&#x27; =&gt; &#x27;flawless_settings[disabled_theme_features][footer-copyright]&#x27;,
      &#x27;position&#x27; =&gt; 20,
      &#x27;setting&#x27; =&gt; $flawless[ &#x27;disabled_theme_features&#x27; ][ &#x27;footer-copyright&#x27; ],
      &#x27;toggle_label&#x27; =&gt; __( &#x27;Do not show copyright in footer.&#x27;, &#x27;flawless&#x27; ),
      &#x27;callback&#x27; =&gt; array( &#x27;Flawless_ui&#x27;, &#x27;options_footer_copyright&#x27; )
    );

    $flawless[ &#x27;options_ui&#x27; ][ &#x27;header_elements&#x27; ] = apply_filters( &#x27;flawless_option_header_elements&#x27;, $flawless[ &#x27;options_ui&#x27; ][ &#x27;header_elements&#x27; ] );

    //** Put the tabs into position */
    usort( $flawless[ &#x27;options_ui&#x27; ][ &#x27;header_elements&#x27; ], create_function( &#x27;$a,$b&#x27;, &#x27; return $a[&quot;position&quot;] - $b[&quot;position&quot;]; &#x27; ) );

    //** Check if sections have advanced configuration menus */
    foreach ( $flawless[ &#x27;options_ui&#x27; ][ &#x27;header_elements&#x27; ] as $tab_id =&gt; $tab ) {
      if ( is_callable( $tab[ &#x27;callback&#x27; ] ) ) {
        $element_panels[ $tab_id ] = $tab;
      }
    }

    $page_selection_404 = Flawless::wp_dropdown_objects( array(
      &#x27;name&#x27; =&gt; &quot;flawless_settings[404_page]&quot;,
      &#x27;show_option_none&#x27; =&gt; __( &#x27;&amp;mdash; Select &amp;mdash;&#x27; ),
      &#x27;option_none_value&#x27; =&gt; &#x27;0&#x27;,
      &#x27;echo&#x27; =&gt; false,
      &#x27;post_type&#x27; =&gt; get_post_types( array( &#x27;hierarchical&#x27; =&gt; true ) ),
      &#x27;selected&#x27; =&gt; $flawless[ &#x27;404_page&#x27; ]
    ) );

    $page_selection_not_found = Flawless::wp_dropdown_objects( array(
      &#x27;name&#x27; =&gt; &quot;flawless_settings[no_search_result_page]&quot;,
      &#x27;show_option_none&#x27; =&gt; __( &#x27;&amp;mdash; Select &amp;mdash;&#x27; ),
      &#x27;option_none_value&#x27; =&gt; &#x27;0&#x27;,
      &#x27;echo&#x27; =&gt; false,
      &#x27;post_type&#x27; =&gt; get_post_types( array( &#x27;hierarchical&#x27; =&gt; true ) ),
      &#x27;selected&#x27; =&gt; $flawless[ &#x27;no_search_result_page&#x27; ]
    ) );

    ?&gt;

    &lt;div
      class=&quot;tab_description&quot;&gt;&lt;?php _e( &#x27;Configure general settings, and customize theme features and special landing pages.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/div&gt;

    &lt;table class=&quot;form-table&quot;&gt;
      &lt;tbody&gt;

      &lt;tr valign=&quot;top&quot;&gt;
        &lt;th&gt;&lt;?php _e( &#x27;General Options&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/th&gt;
        &lt;td&gt;
          &lt;ul&gt;
            &lt;li&gt;&lt;label&gt;&lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $flawless[ &#x27;hide_breadcrumbs&#x27; ] ); ?&gt;
                  name=&#x27;flawless_settings[hide_breadcrumbs]&#x27;
                  value=&quot;true&quot;/&gt; &lt;?php _e( &#x27;Globally disable breadcrumbs.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/label&gt;&lt;/li&gt;
            &lt;?php do_action( &#x27;flawless::options_ui_general::common_settings&#x27;, $flawless ); ?&gt;
          &lt;/ul&gt;
        &lt;/td&gt;
      &lt;/tr&gt;

      &lt;tr valign=&quot;top&quot; class=&quot;flawless_option_group&quot; flawless_option_group=&quot;top_navigation&quot;&gt;
        &lt;th&gt;&lt;?php _e( &#x27;Menus &amp; Navigation&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/th&gt;
        &lt;td&gt;
          &lt;ul&gt;
            &lt;li class=&quot;flawless_option&quot; flawless_option=&quot;menu_descriptions&quot;&gt;
              &lt;label for=&quot;flawless_top_navigation_show_descriptions&quot;&gt;
                &lt;input
                  type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $flawless[ &#x27;menus&#x27; ][ &#x27;header-menu&#x27; ][ &#x27;show_descriptions&#x27; ] ); ?&gt;
                  id=&quot;flawless_top_navigation_show_descriptions&quot;
                  name=&quot;flawless_settings[menus][header-menu][show_descriptions]&quot; value=&quot;true&quot;/&gt;
                &lt;?php _e( &#x27;Show menu item descriptions below the titles in the Top Navigation.&#x27;, &#x27;flawless&#x27; ); ?&gt;
              &lt;/label&gt;
            &lt;/li&gt;
            &lt;li&gt;
              &lt;label for=&quot;flawless_footer_navigation_show_descriptions&quot;&gt;
                &lt;input
                  type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $flawless[ &#x27;menus&#x27; ][ &#x27;footer-menu&#x27; ][ &#x27;show_descriptions&#x27; ] ); ?&gt;
                  id=&quot;flawless_footer_navigation_show_descriptions&quot;
                  name=&quot;flawless_settings[menus][footer-menu][show_descriptions]&quot; value=&quot;true&quot;/&gt;
                &lt;?php _e( &#x27;Show menu item descriptions below the titles in the Footer Navigation.&#x27;, &#x27;flawless&#x27; ); ?&gt;
              &lt;/label&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;/td&gt;
      &lt;/tr&gt;

      &lt;tr valign=&quot;top&quot; class=&quot;flawless_special_pages&quot;&gt;
        &lt;th&gt;&lt;?php _e( &#x27;Special Pages&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/th&gt;
        &lt;td&gt;
          &lt;ul&gt;
            &lt;?php if ( $page_selection_404 ) { ?&gt;
              &lt;li&gt;
                &lt;label for=&quot;404_page&quot;&gt;&lt;?php _e( &#x27;404 Page: &#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;?php echo $page_selection_404; ?&gt;&lt;/label&gt;
                &lt;span
                  class=&quot;description&quot;&gt;&lt;?php _e( &#x27;Use to display a custom page for all 404 pages.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/span&gt;
              &lt;/li&gt;
            &lt;?php } ?&gt;

            &lt;?php if ( $page_selection_not_found ) { ?&gt;
              &lt;li&gt;
                &lt;label
                  for=&quot;404_page&quot;&gt;&lt;?php _e( &#x27;No Result Page: &#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;?php echo $page_selection_not_found; ?&gt;
                  &lt;span
                    class=&quot;description&quot;&gt;&lt;?php _e( &#x27;Page to display when a search has no results.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/span&gt;
                &lt;/label&gt;
              &lt;/li&gt;
            &lt;?php } ?&gt;

          &lt;/ul&gt;
        &lt;/td&gt;
      &lt;/tr&gt;

      &lt;tr valign=&quot;top&quot; class=&quot;flawless_header_features&quot;&gt;
        &lt;th&gt;&lt;?php _e( &#x27;Theme Elements&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/th&gt;
        &lt;td class=&quot;flawless_tabs flawless_section_specific_tabs&quot;&gt;

          &lt;ul class=&quot;tabs&quot;&gt;
            &lt;?php foreach ( (array) $element_panels as $tab ) { ?&gt;
              &lt;li class=&quot;conditional_dependency&quot; required_condition=&quot;&lt;?php echo $tab[ &#x27;callback&#x27; ][ 1 ]; ?&gt;&quot;&gt;&lt;a
                  href=&quot;#flawless_header_tab_&lt;?php echo $tab[ &#x27;id&#x27; ]; ?&gt;&quot;&gt;&lt;?php echo $tab[ &#x27;label&#x27; ]; ?&gt;&lt;/a&gt;&lt;/li&gt;
            &lt;?php } ?&gt;
          &lt;/ul&gt;

          &lt;?php foreach ( (array) $element_panels as $tab ) { ?&gt;
            &lt;div id=&quot;flawless_header_tab_&lt;?php echo $tab[ &#x27;id&#x27; ]; ?&gt;&quot;
              class=&quot;flawless_tab &lt;?php echo $tab[ &#x27;panel_class&#x27; ]; ?&gt; conditional_dependency&quot;
              required_condition=&quot;&lt;?php echo $tab[ &#x27;callback&#x27; ][ 1 ]; ?&gt;&quot;&gt;&lt;?php call_user_func( $tab[ &#x27;callback&#x27; ], $flawless ); ?&gt;&lt;/div&gt;
          &lt;?php } ?&gt;

        &lt;/td&gt;
      &lt;/tr&gt;

      &lt;tr valign=&quot;top&quot; class=&quot;flawless_supported_theme_features&quot;&gt;
        &lt;th&gt;
          &lt;?php _e( &#x27;Disabled Theme Features&#x27;, &#x27;flawless&#x27; ); ?&gt;
          &lt;div
            class=&quot;description&quot;&gt;&lt;?php _e( &#x27;These features are enabled by default, select them to disable.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/div&gt;
        &lt;/th&gt;
        &lt;td&gt;
          &lt;ul class=&quot;wp-tab-panel&quot;&gt;
            &lt;?php if ( current_theme_supports( &#x27;custom-background&#x27; ) ) { ?&gt;
              &lt;li&gt;&lt;label&gt;&lt;input
                    type=&quot;checkbox&quot; &lt;?php checked( &#x27;false&#x27;, $flawless[ &#x27;disabled_theme_features&#x27; ][ &#x27;custom-background&#x27; ] ); ?&gt;
                    name=&quot;flawless_settings[disabled_theme_features][custom-background]&quot;
                    value=&quot;false&quot;/&gt; &lt;?php _e( &#x27;Custom Backgrounds.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/label&gt;&lt;/li&gt;
            &lt;?php } ?&gt;
            &lt;?php if ( current_theme_supports( &#x27;custom-header&#x27; ) ) { ?&gt;
              &lt;li&gt;&lt;label&gt;&lt;input
                    type=&quot;checkbox&quot; &lt;?php checked( &#x27;false&#x27;, $flawless[ &#x27;disabled_theme_features&#x27; ][ &#x27;custom-header&#x27; ] ); ?&gt;
                    name=&quot;flawless_settings[disabled_theme_features][custom-header]&quot;
                    value=&quot;false&quot;/&gt; &lt;?php _e( &#x27;Custom Header Image.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/label&gt;&lt;/li&gt;
            &lt;?php } ?&gt;
            &lt;?php foreach ( (array) $flawless[ &#x27;options_ui&#x27; ][ &#x27;header_elements&#x27; ] as $tab ) { ?&gt;
              &lt;li&gt;&lt;label&gt;&lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;false&#x27;, $tab[ &#x27;setting&#x27; ] ); ?&gt;
                    name=&quot;&lt;?php echo $tab[ &#x27;name&#x27; ]; ?&gt;&quot; affects=&quot;&lt;?php echo $tab[ &#x27;callback&#x27; ][ 1 ]; ?&gt;&quot;
                    value=&quot;false&quot;/&gt; &lt;?php printf( __( &#x27;%1s.&#x27;, &#x27;flawless&#x27; ), $tab[ &#x27;label&#x27; ] ); ?&gt;&lt;/label&gt;
              &lt;/li&gt;
            &lt;?php } ?&gt;
            &lt;?php /* foreach( (array) $flawless[ &#x27;disabled_theme_features&#x27; ] as $feature_slug =&gt; $disabled ) {  ?&gt;
            &lt;li&gt;&lt;label&gt;&lt;input type=&quot;checkbox&quot; checked=&quot;true&quot; name=&quot;flawless_settings[disabled_theme_features][&lt;?php echo $feature_slug; ?&gt;]&quot; value=&quot;true&quot; /&gt; &lt;?php printf( __( &#x27;%1s.&#x27;, &#x27;flawless&#x27; ), ucwords( str_replace( array( &#x27;-&#x27;, &#x27;_&#x27; ) , &#x27; &#x27;, $feature_slug ) ) ); ?&gt;&lt;/label&gt;&lt;/li&gt;
          &lt;?php } */
            ?&gt;

          &lt;/ul&gt;
        &lt;/td&gt;
      &lt;/tr&gt;

      &lt;/tbody&gt;
    &lt;/table&gt;

  &lt;?php
  }

  /**
   * { short description missing }
   *
   * @author potanin@UD
   */
  function options_footer_copyright( $flawless ) {
    ?&gt;

    &lt;textarea id=&quot;footer_copyright&quot; class=&quot;large-text footer_copyright&quot;
      name=&quot;flawless_settings[footer][copyright]&quot;&gt;&lt;?php echo $flawless[ &#x27;footer&#x27; ][ &#x27;copyright&#x27; ]; ?&gt;&lt;/textarea&gt;
    &lt;div
      class=&quot;description&quot;&gt;&lt;?php _e( &#x27;Footer text, often used for copyright information, is displayed at the bottom of all pages. Shortcodes can be used here. Useful shortcodes: [current_year], [site_description].&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/div&gt;

  &lt;?php

  }

  /**
   * { short description missing }
   *
   * @author potanin@UD
   */
  function options_header_text( $flawless ) {
    ?&gt;

    &lt;textarea id=&quot;footer_copyright&quot; class=&quot;large-text&quot;
      name=&quot;flawless_settings[header][header_text]&quot;&gt;&lt;?php echo $flawless[ &#x27;header&#x27; ][ &#x27;header_text&#x27; ]; ?&gt;&lt;/textarea&gt;
    &lt;div class=&quot;description&quot;&gt;&lt;?php _e( &#x27;Header text, shortcodes are supported.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/div&gt;

  &lt;?php

  }

  /**
   * { short description missing }
   *
   * @author potanin@UD
   */
  function options_header_navbar( $flawless ) {
    ?&gt;

    &lt;div
      class=&quot;flawless_tab_description&quot;&gt;&lt;?php _e( &#x27;A Navbar is displayed at the very top of your site.  If a custom Mobile Navbar is setup, this Navbar will not be displayed on mobile devices.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/div&gt;

    &lt;ul&gt;
      &lt;li&gt;
        &lt;label&gt;&lt;?php _e( &#x27;Navbar Type:&#x27;, &#x27;flawless&#x27; ); ?&gt;
          &lt;select name=&quot;flawless_settings[navbar][type]&quot;&gt;
            &lt;option value=&quot;-1&quot;&gt; -&lt;/option&gt;
            &lt;?php foreach ( (array) $flawless[ &#x27;navbar_options&#x27; ] as $navbar_type =&gt; $navbar_data ) { ?&gt;
              &lt;option &lt;?php selected( $navbar_type, $flawless[ &#x27;navbar&#x27; ][ &#x27;type&#x27; ] ); ?&gt;
                value=&quot;&lt;?php echo $navbar_type; ?&gt;&quot;&gt;&lt;?php echo $navbar_data[ &#x27;label&#x27; ]; ?&gt;&lt;/option&gt;
            &lt;?php } ?&gt;
          &lt;/select&gt;
        &lt;/label&gt;
      &lt;/li&gt;

      &lt;li&gt;
        &lt;input type=&quot;hidden&quot; name=&quot;flawless_settings[navbar][show_brand]&quot; value=&quot;false&quot;/&gt;
        &lt;label&gt;
          &lt;input type=&quot;checkbox&quot; name=&quot;flawless_settings[navbar][show_brand]&quot;
            value=&quot;true&quot; &lt;?php checked( $flawless[ &#x27;navbar&#x27; ][ &#x27;show_brand&#x27; ], &#x27;true&#x27; ); ?&gt; /&gt;
          &lt;?php _e( &#x27;Show your website\&#x27;s brand on far left side of the Navbar.&#x27;, &#x27;flawless&#x27; ); ?&gt;
        &lt;/label&gt;
      &lt;/li&gt;

      &lt;li&gt;
        &lt;input type=&quot;hidden&quot; name=&quot;flawless_settings[navbar][show_login]&quot; value=&quot;false&quot;/&gt;
        &lt;label&gt;
          &lt;input type=&quot;checkbox&quot; name=&quot;flawless_settings[navbar][show_login]&quot;
            value=&quot;true&quot; &lt;?php checked( $flawless[ &#x27;navbar&#x27; ][ &#x27;show_login&#x27; ], &#x27;true&#x27; ); ?&gt; /&gt;
          &lt;?php _e( &#x27;Show user login on the far right side of the Navbar.&#x27;, &#x27;flawless&#x27; ); ?&gt;
        &lt;/label&gt;
      &lt;/li&gt;

      &lt;li&gt;
        &lt;input type=&quot;hidden&quot; name=&quot;flawless_settings[navbar][show_editlayout]&quot; value=&quot;false&quot;/&gt;
        &lt;label&gt;
          &lt;input type=&quot;checkbox&quot; name=&quot;flawless_settings[navbar][show_editlayout]&quot;
            value=&quot;true&quot; &lt;?php checked( $flawless[ &#x27;navbar&#x27; ][ &#x27;show_editlayout&#x27; ], &#x27;true&#x27; ); ?&gt; /&gt;
          &lt;?php _e( &#x27;Show &quot;Edit Layout&quot; link at far right side of the Navbar.&#x27;, &#x27;flawless&#x27; ); ?&gt;
        &lt;/label&gt;
      &lt;/li&gt;

      &lt;li&gt;
        &lt;input type=&quot;hidden&quot; name=&quot;flawless_settings[navbar][collapse]&quot; value=&quot;false&quot;/&gt;
        &lt;label&gt;
          &lt;input type=&quot;checkbox&quot; name=&quot;flawless_settings[navbar][collapse]&quot;
            value=&quot;true&quot; &lt;?php checked( $flawless[ &#x27;navbar&#x27; ][ &#x27;collapse&#x27; ], &#x27;true&#x27; ); ?&gt; /&gt;
          &lt;?php _e( &#x27;Show a menu expansion button when it is collapsed on small screens.&#x27;, &#x27;flawless&#x27; ); ?&gt;
        &lt;/label&gt;
      &lt;/li&gt;

    &lt;/ul&gt;

  &lt;?php
  }

  /**
   * { short description missing }
   *
   * @author potanin@UD
   */
  function options_mobile_navbar( $flawless ) {
    ?&gt;

    &lt;div
      class=&quot;flawless_tab_description&quot;&gt;&lt;?php _e( &#x27;A Navbar displayed only for mobile devices  When enabled, the standard Navbar will be hidden on mobile devices.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/div&gt;

    &lt;ul&gt;

      &lt;li&gt;
        &lt;label&gt;&lt;?php _e( &#x27;Navbar Type:&#x27;, &#x27;flawless&#x27; ); ?&gt;
          &lt;select name=&quot;flawless_settings[mobile_navbar][type]&quot;&gt;
            &lt;option value=&quot;-1&quot;&gt; -&lt;/option&gt;
            &lt;?php foreach ( (array) $flawless[ &#x27;navbar_options&#x27; ] as $navbar_type =&gt; $navbar_data ) { ?&gt;
              &lt;option &lt;?php selected( $navbar_type, $flawless[ &#x27;mobile_navbar&#x27; ][ &#x27;type&#x27; ] ); ?&gt;
                value=&quot;&lt;?php echo $navbar_type; ?&gt;&quot;&gt;&lt;?php echo $navbar_data[ &#x27;label&#x27; ]; ?&gt;&lt;/option&gt;
            &lt;?php } ?&gt;
          &lt;/select&gt;
        &lt;/label&gt;
      &lt;/li&gt;

      &lt;li&gt;
        &lt;input type=&quot;hidden&quot; name=&quot;flawless_settings[mobile_navbar][show_brand]&quot; value=&quot;false&quot;/&gt;
        &lt;label&gt;
          &lt;input type=&quot;checkbox&quot; name=&quot;flawless_settings[mobile_navbar][show_brand]&quot;
            value=&quot;true&quot; &lt;?php checked( $flawless[ &#x27;mobile_navbar&#x27; ][ &#x27;show_brand&#x27; ], &#x27;true&#x27; ); ?&gt; /&gt;
          &lt;?php _e( &#x27;Show your website\&#x27;s brand on far left side of the Navbar.&#x27;, &#x27;flawless&#x27; ); ?&gt;
        &lt;/label&gt;
      &lt;/li&gt;

      &lt;li&gt;
        &lt;input type=&quot;hidden&quot; name=&quot;flawless_settings[mobile_navbar][show_login]&quot; value=&quot;false&quot;/&gt;
        &lt;label&gt;
          &lt;input type=&quot;checkbox&quot; name=&quot;flawless_settings[mobile_navbar][show_login]&quot;
            value=&quot;true&quot; &lt;?php checked( $flawless[ &#x27;mobile_navbar&#x27; ][ &#x27;show_login&#x27; ], &#x27;true&#x27; ); ?&gt; /&gt;
          &lt;?php _e( &#x27;Show user login on the far right side of the Navbar.&#x27;, &#x27;flawless&#x27; ); ?&gt;
        &lt;/label&gt;
      &lt;/li&gt;

    &lt;/ul&gt;

  &lt;?php
  }

  /**
   * { short description missing }
   *
   * @author potanin@UD
   */
  function options_header_search( $flawless ) {
    ?&gt;

    &lt;ul&gt;
      &lt;li&gt;
        &lt;input type=&quot;hidden&quot; name=&quot;flawless_settings[header][must_enter_search_term]&quot; value=&quot;false&quot;/&gt;
        &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;flawless_settings[header][must_enter_search_term]&quot;
            value=&quot;true&quot; &lt;?php checked( $flawless[ &#x27;header&#x27; ][ &#x27;must_enter_search_term&#x27; ], &#x27;true&#x27; ); ?&gt; /&gt;
          &lt;?php _e( &#x27;Users must enter a search term for search form to work.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/label&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;input type=&quot;hidden&quot; name=&quot;flawless_settings[header][must_enter_search_term]&quot; value=&quot;false&quot;/&gt;
        &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;flawless_settings[header][grow_input_when_clicked]&quot;
            value=&quot;true&quot; &lt;?php checked( $flawless[ &#x27;header&#x27; ][ &#x27;grow_input_when_clicked&#x27; ], &#x27;true&#x27; ); ?&gt; /&gt;
          &lt;?php _e( &#x27;Expand the search input box when being used.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/label&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;label&gt;&lt;?php _e( &#x27;Search input placeholder:&#x27;, &#x27;flawless&#x27; ); ?&gt;
          &lt;input type=&quot;text&quot; class=&quot;regular-text&quot;
            placeholder=&quot;&lt;?php printf( __( &#x27;Search %1s&#x27;, &#x27;flawless&#x27; ), get_bloginfo( &#x27;name&#x27; ) ); ?&gt;&quot;
            name=&quot;flawless_settings[header][search_input_placeholder]&quot;
            value=&quot;&lt;?php echo $flawless[ &#x27;header&#x27; ][ &#x27;search_input_placeholder&#x27; ]; ?&gt;&quot;/&gt;&lt;/label&gt;
      &lt;/li&gt;

    &lt;/ul&gt;

  &lt;?php
  }

  /**
   * { short description missing }
   *
   * @author potanin@UD
   */
  function options_header_logo( $flawless ) {
    ?&gt;

    &lt;ul class=&quot;flawless_logo_upload&quot;&gt;

      &lt;?php if ( !empty( $flawless[ &#x27;flawless_logo&#x27; ][ &#x27;url&#x27; ] ) ) { ?&gt;
        &lt;li class=&quot;current_flawless_logo&quot;&gt;
          &lt;input type=&quot;hidden&quot; name=&quot;flawless_settings[flawless_logo][post_id]&quot;
            value=&quot;&lt;?php echo $flawless[ &#x27;flawless_logo&#x27; ][ &#x27;post_id&#x27; ]; ?&gt;&quot;/&gt;
          &lt;input type=&quot;hidden&quot; name=&quot;flawless_settings[flawless_logo][url]&quot;
            value=&quot;&lt;?php echo $flawless[ &#x27;flawless_logo&#x27; ][ &#x27;url&#x27; ]; ?&gt;&quot;/&gt;
          &lt;input type=&quot;hidden&quot; name=&quot;flawless_settings[flawless_logo][width]&quot;
            value=&quot;&lt;?php echo $flawless[ &#x27;flawless_logo&#x27; ][ &#x27;width&#x27; ]; ?&gt;&quot;/&gt;
          &lt;input type=&quot;hidden&quot; name=&quot;flawless_settings[flawless_logo][height]&quot;
            value=&quot;&lt;?php echo $flawless[ &#x27;flawless_logo&#x27; ][ &#x27;height&#x27; ]; ?&gt;&quot;/&gt;

          &lt;?php if ( Flawless::can_get_image( $flawless[ &#x27;flawless_logo&#x27; ][ &#x27;url&#x27; ] ) ) {
            echo &#x27;&lt;img src=&quot;&#x27; . $flawless[ &#x27;flawless_logo&#x27; ][ &#x27;url&#x27; ] . &#x27;&quot; class=&quot;flawless_logo&quot; /&gt;&#x27;;
          } else {
            ?&gt;
            &lt;div
              class=&quot;flawless_asset_missing flawless_logo&quot;&gt;&lt;?php printf( __( &#x27;Warning: Logo ( %1s ) Not Found&#x27;, &#x27;flawless&#x27; ), $flawless[ &#x27;flawless_logo&#x27; ][ &#x27;url&#x27; ] ); ?&gt;&lt;/div&gt;
          &lt;?php } ?&gt;

          &lt;div class=&quot;&quot;&gt;
            &lt;span class=&quot;flawless_delete_logo button&quot;&gt;&lt;?php _e( &#x27;Delete Logo&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/span&gt;
            &lt;a target=&quot;_blank&quot;
              href=&quot;&lt;?php echo admin_url( &#x27;media.php?attachment_id=&#x27; . $flawless[ &#x27;flawless_logo&#x27; ][ &#x27;post_id&#x27; ] . &#x27;&amp;action=edit&#x27; ); ?&gt;&quot;
              class=&quot;button&quot;&gt;&lt;?php _e( &#x27;Edit Image&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/a&gt;
          &lt;/div&gt;

        &lt;/li&gt;
      &lt;?php } ?&gt;

      &lt;li class=&quot;upload_new_logo&quot;&gt;
        &lt;label
          for=&quot;flawless_text_logo&quot;&gt;&lt;?php _e( &#x27;To upload new logo, choose an image from your computer:&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/label&gt;
        &lt;input id=&quot;flawless_text_logo&quot; type=&quot;file&quot; name=&quot;flawless_logo&quot;/&gt;
      &lt;/li&gt;

    &lt;/ul&gt;

  &lt;?php
  }

  /**
   * Post Type and Taxonomy UI
   *
   * @author potanin@UD
   * @since Flawless 0.5.0
   */
  function options_ui_post_types( $flawless ) {
    global $wp_post_types, $_wp_post_type_features; ?&gt;

    &lt;div
      class=&quot;tab_description&quot;&gt;&lt;?php _e( &#x27;Manage post types and taxonomies, associate them with widget areas, and configure display settings.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/div&gt;

    &lt;div class=&quot;flawless_content_ui&quot;&gt;

    &lt;div class=&quot;widget_area_sidebar&quot;&gt;
      &lt;div class=&quot;flawless_available_widget_areas&quot;&gt;&lt;?php _e( &#x27;Available Widget Areas&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/div&gt;
      &lt;ul class=&quot;flawless_widget_area_list&quot; type=&quot;widget_area_selector&quot;&gt;

        &lt;?php foreach ( ( array ) $flawless[ &#x27;widget_areas&#x27; ][ &#x27;all&#x27; ] as $sidebar_id =&gt; $sidebar_data ) {
          Flawless_ui::flawless_widget_item( array(
            &#x27;sidebar_id&#x27; =&gt; $sidebar_id,
            &#x27;widget_area_selector&#x27; =&gt; true,
            &#x27;sidebar_data&#x27; =&gt; $sidebar_data
          ) );
        } ?&gt;

        &lt;li class=&quot;flawless_add_new_widget_area&quot;&gt;
          &lt;?php _e( &#x27;Add New Widget Area&#x27;, &#x27;flawless&#x27; ); ?&gt;
        &lt;/li&gt;

      &lt;/ul&gt;
    &lt;/div&gt;

    &lt;div class=&quot;flawless_content_body&quot;&gt;

    &lt;div class=&quot;ud_ui_dynamic_table flawless_content_inner&quot;&gt;

      &lt;?php foreach ( ( array ) $flawless[ &#x27;post_types&#x27; ] as $type =&gt; $data ) { ?&gt;

        &lt;div class=&quot;flawless_content_type_module flawless_dynamic_table_row&quot; content_type=&quot;post_types&quot;
          slug=&quot;&lt;?php echo $type; ?&gt;&quot; new_row=&quot;false&quot;
          lock_row=&quot;&lt;?php echo( $data[ &#x27;flawless_post_type&#x27; ] == &quot;true&quot; ? &quot;false&quot; : &quot;true&quot; ); ?&gt;&quot;&gt;

          &lt;div class=&quot;ct_header&quot;&gt;
            &lt;input class=&quot;slug_setter&quot; type=&quot;text&quot; name=&quot;flawless_settings[post_types][&lt;?php echo $type; ?&gt;][name]&quot;
              value=&quot;&lt;?php echo $data[ &#x27;name&#x27; ]; ?&gt;&quot;/&gt;

            &lt;ul class=&quot;flawless_dropdown_options&quot; show_on_clone=&quot;true&quot;&gt;
              &lt;li class=&quot;flawless_delete_row&quot; verify_action=&quot;true&quot;&gt;Delete&lt;/li&gt;
            &lt;/ul&gt;

            &lt;span
              class=&quot;content_type_label&quot;&gt;&lt;?php echo $data[ &#x27;flawless_post_type&#x27; ] == &#x27;true&#x27; ? __( &#x27;Custom Post Type&#x27;, &#x27;flawless&#x27; ) : __( &#x27;Post Type&#x27; ); ?&gt;&lt;/span&gt;

          &lt;/div&gt;

          &lt;div class=&quot;flawless_content_type_options flawless_half_width&quot;&gt;

            &lt;ul class=&quot;flawless_options_wrapper flawless_advanced_content_type_options&quot;&gt;

              &lt;li class=&quot;flawless_option&quot;&gt;
                &lt;label&gt;
                  &lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $data[ &#x27;show_post_meta&#x27; ] ); ?&gt;
                    name=&quot;flawless_settings[post_types][&lt;?php echo $type; ?&gt;][show_post_meta]&quot; value=&quot;true&quot;/&gt;
                  &lt;?php _e( &#x27;Enable post meta.&#x27;, &#x27;flawless&#x27; ) ?&gt;
                &lt;/label&gt;
              &lt;/li&gt;

              &lt;li class=&quot;flawless_option&quot;&gt;
                &lt;label&gt;
                  &lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $data[ &#x27;disable_author&#x27; ] ); ?&gt;
                    name=&quot;flawless_settings[post_types][&lt;?php echo $type; ?&gt;][disable_author]&quot; value=&quot;true&quot;/&gt;
                  &lt;?php _e( &#x27;Disable authors.&#x27;, &#x27;flawless&#x27; ) ?&gt;
                &lt;/label&gt;
              &lt;/li&gt;

              &lt;li class=&quot;flawless_option&quot;&gt;
                &lt;label&gt;
                  &lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $data[ &#x27;disable_comments&#x27; ] ); ?&gt;
                    name=&quot;flawless_settings[post_types][&lt;?php echo $type; ?&gt;][disable_comments]&quot; value=&quot;true&quot;/&gt;
                  &lt;?php _e( &#x27;Disable comments.&#x27;, &#x27;flawless&#x27; ) ?&gt;
                &lt;/label&gt;
              &lt;/li&gt;

              &lt;?php if ( $data[ &#x27;flawless_post_type&#x27; ] == &#x27;true&#x27; ) { ?&gt;
                &lt;li class=&quot;flawless_option&quot;&gt;
                  &lt;label&gt;&lt;?php _e( &#x27;Root Page:&#x27;, &#x27;flawless&#x27; ) ?&gt;
                    &lt;?php Flawless::wp_dropdown_objects( array(
                      &#x27;name&#x27; =&gt; &quot;flawless_settings[post_types][{$type}][root_page]&quot;,
                      &#x27;show_option_none&#x27; =&gt; __( &#x27;&amp;mdash; Select &amp;mdash;&#x27; ),
                      &#x27;option_none_value&#x27; =&gt; &#x27;0&#x27;,
                      &#x27;post_type&#x27; =&gt; get_post_types( array( &#x27;hierarchical&#x27; =&gt; true ) ),
                      &#x27;selected&#x27; =&gt; $data[ &#x27;root_page&#x27; ]
                    ) ); ?&gt;
                  &lt;/label&gt;
                &lt;/li&gt;
              &lt;?php } ?&gt;

              &lt;li settings_wrapper=&quot;flawless_options_wrapper&quot; class=&quot;flawless_show_advanced&quot;
                text_if_shown=&quot;&lt;?php _e( &#x27;Hide Advanced&#x27;, &#x27;flawless&#x27; ) ?&gt;&quot;
                text_if_hidden=&quot;&lt;?php _e( &#x27;Show Advanced&#x27;, &#x27;flawless&#x27; ) ?&gt;&quot;&gt;
                &lt;?php _e( &#x27;Show Advanced&#x27;, &#x27;flawless&#x27; ) ?&gt;
              &lt;/li&gt;

              &lt;?php do_action( &#x27;flawless_post_types_advanced_options&#x27;, array(
                  &#x27;type&#x27; =&gt; $type,
                  &#x27;data&#x27; =&gt; $data,
                  &#x27;fs&#x27; =&gt; $flawless )
              ); ?&gt;

              &lt;li class=&quot;flawless_advanced_option&quot;&gt;
                &lt;label&gt;
                  &lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $data[ &#x27;exclude_from_search&#x27; ] ); ?&gt;
                    name=&quot;flawless_settings[post_types][&lt;?php echo $type; ?&gt;][exclude_from_search]&quot; value=&quot;true&quot;/&gt;
                  &lt;?php _e( &#x27;Exclude from search.&#x27;, &#x27;flawless&#x27; ) ?&gt;
                &lt;/label&gt;
              &lt;/li&gt;

              &lt;li class=&quot;flawless_advanced_option&quot;&gt;
                &lt;label&gt;
                  &lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $data[ &#x27;custom_fields&#x27; ] ); ?&gt;
                    name=&quot;flawless_settings[post_types][&lt;?php echo $type; ?&gt;][custom_fields]&quot; value=&quot;true&quot;/&gt;
                  &lt;?php _e( &#x27;Enable Custom Fields metabox.&#x27;, &#x27;flawless&#x27; ) ?&gt;
                &lt;/label&gt;
              &lt;/li&gt;

              &lt;li class=&quot;flawless_advanced_option&quot;&gt;
                &lt;label&gt;
                  &lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $data[ &#x27;disabled&#x27; ] ); ?&gt;
                    name=&quot;flawless_settings[post_types][&lt;?php echo $type; ?&gt;][disabled]&quot; value=&quot;true&quot;/&gt;
                  &lt;?php _e( &#x27;Disable this content type, and hide all related content.&#x27;, &#x27;flawless&#x27; ) ?&gt;
                &lt;/label&gt;
              &lt;/li&gt;

              &lt;?php if ( $data[ &#x27;flawless_post_type&#x27; ] == &#x27;true&#x27; ) { ?&gt;
                &lt;li class=&quot;flawless_advanced_option&quot;&gt;
                  &lt;label&gt;
                    &lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $data[ &#x27;hierarchical&#x27; ] ); ?&gt;
                      name=&quot;flawless_settings[post_types][&lt;?php echo $type; ?&gt;][hierarchical]&quot; value=&quot;true&quot;/&gt;
                    &lt;?php _e( &#x27;Use this content in a hierarchical manner.&#x27;, &#x27;flawless&#x27; ) ?&gt;
                  &lt;/label&gt;
                &lt;/li&gt;
              &lt;?php } ?&gt;

              &lt;?php if ( $data[ &#x27;flawless_post_type&#x27; ] == &#x27;true&#x27; ) { ?&gt;
                &lt;li class=&quot;flawless_advanced_option&quot;&gt;
                  &lt;label&gt;
                    &lt;?php _e( &#x27;Rewrite slug:&#x27;, &#x27;flawless&#x27; ) ?&gt;
                    &lt;input type=&quot;text&quot; class=&quot;regular-text&quot;
                      name=&quot;flawless_settings[post_types][&lt;?php echo $type; ?&gt;][rewrite_slug]&quot;
                      value=&quot;&lt;?php echo $data[ &#x27;rewrite_slug&#x27; ]; ?&gt;&quot;/&gt;
                  &lt;/label&gt;
                &lt;/li&gt;
              &lt;?php } ?&gt;

              &lt;li class=&quot;flawless_advanced_option&quot;&gt;
                &lt;?php _e( &#x27;Associated Taxonomies:&#x27;, &#x27;flawless&#x27; ); ?&gt;
                &lt;ul class=&quot;wp-tab-panel&quot;&gt;
                  &lt;?php foreach ( $data[ &#x27;taxonomies&#x27; ] as $taxonomy =&gt; $enabled ) { ?&gt;
                    &lt;li&gt;
                      &lt;input
                        id=&quot;&lt;?php echo $taxonomy; ?&gt;_to_&lt;?php echo $type; ?&gt;&quot; &lt;?php checked( &#x27;enabled&#x27;, $enabled ); ?&gt;
                        type=&quot;checkbox&quot;
                        name=&quot;flawless_settings[post_types][&lt;?php echo $type; ?&gt;][taxonomies][&lt;?php echo $taxonomy; ?&gt;]&quot;
                        value=&quot;enabled&quot;/&gt;
                      &lt;label
                        for=&quot;&lt;?php echo $taxonomy; ?&gt;_to_&lt;?php echo $type; ?&gt;&quot;&gt;&lt;?php echo $flawless[ &#x27;taxonomies&#x27; ][ $taxonomy ][ &#x27;label&#x27; ] ? $flawless[ &#x27;taxonomies&#x27; ][ $taxonomy ][ &#x27;label&#x27; ] : $taxonomy; ?&gt;&lt;/label&gt;
                    &lt;/li&gt;
                  &lt;?php } ?&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
            &lt;/ul&gt; &lt;?php /* .flawless_options_wrapper */ ?&gt;

          &lt;/div&gt; &lt;?php /* .flawless_content_type_options.flawless_half_width */ ?&gt;

          &lt;div class=&quot;flawless_associated_widget_areas flawless_half_width&quot;&gt;
            &lt;?php foreach ( ( array ) $flawless[ &#x27;widget_area_sections&#x27; ] as $was_slug =&gt; $was_data ) {
              $these_sidebars = $flawless[ &#x27;views&#x27; ][ &#x27;post_types&#x27; ][ $type ][ &#x27;widget_areas&#x27; ][ $was_slug ]; ?&gt;
              &lt;div class=&quot;flawless_was_pane&quot; was_slug=&quot;&lt;?php echo $was_slug; ?&gt;&quot;&gt;
                &lt;h3 class=&quot;flawless_was_pane_title&quot;&gt;&lt;?php echo $was_data[ &#x27;label&#x27; ]; ?&gt;&lt;/h3&gt;
                &lt;ul class=&quot;flawless_widget_area_list&quot; type=&quot;widget_area_holder&quot;&gt;

                  &lt;?php foreach ( ( array ) $these_sidebars as $sidebar_id ) {

                    Flawless_ui::flawless_widget_item( array(
                      &#x27;sidebar_id&#x27; =&gt; $sidebar_id,
                      &#x27;was_slug&#x27; =&gt; $was_slug,
                      &#x27;post_type&#x27; =&gt; $type,
                      &#x27;sidebar_data&#x27; =&gt; $sidebar_data
                    ) );

                  }
                  ?&gt;

                &lt;/ul&gt;
              &lt;/div&gt;
            &lt;?php } ?&gt;
          &lt;/div&gt;

          &lt;input type=&quot;hidden&quot; class=&quot;flawless_added_post_type&quot;
            name=&quot;flawless_settings[post_types][&lt;?php echo $type; ?&gt;][flawless_post_type]&quot;
            value=&quot;&lt;?php echo $data[ &#x27;flawless_post_type&#x27; ] ? $data[ &#x27;flawless_post_type&#x27; ] : &#x27;false&#x27;; ?&gt;&quot;/&gt;

        &lt;/div&gt; &lt;?php /*  .flawless_content_type_module*/ ?&gt;

      &lt;?php } /* end post_type loop */ ?&gt;

      &lt;div class=&quot;flawless_actions&quot;&gt;
        &lt;input type=&quot;button&quot; element_wrapper=&quot;.flawless_actions&quot; class=&quot;flawless_add_row button-secondary&quot;
          callback_function=&quot;flawless_added_custom_post_type&quot;
          value=&quot;&lt;?php _e( &#x27;Add Content Type&#x27;, &#x27;flawless&#x27; ) ?&gt;&quot;/&gt;
      &lt;/div&gt;

    &lt;/div&gt; &lt;?php /*  .ud_ui_dynamic_table */ ?&gt;

    &lt;div class=&quot;tab_description&quot;&gt;&lt;?php _e( &#x27;Manage taxonomies.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/div&gt;

    &lt;div class=&quot;ud_ui_dynamic_table flawless_content_inner&quot;&gt;

      &lt;?php foreach ( ( array ) $flawless[ &#x27;taxonomies&#x27; ] as $taxonomy_type =&gt; $taxonomy_data ) { ?&gt;

        &lt;div class=&quot;flawless_content_type_module flawless_dynamic_table_row&quot; content_type=&quot;taxonomies&quot;
          slug=&quot;&lt;?php echo $taxonomy_type; ?&gt;&quot; new_row=&quot;false&quot;
          lock_row=&quot;&lt;?php echo( $taxonomy_data[ &#x27;flawless_taxonomy&#x27; ] == &#x27;true&#x27; ? &#x27;false&#x27; : &#x27;true&#x27; ); ?&gt;&quot;&gt;

          &lt;div class=&quot;ct_header&quot;&gt;
            &lt;input class=&quot;slug_setter&quot; type=&quot;text&quot;
              name=&quot;flawless_settings[taxonomies][&lt;?php echo $taxonomy_type; ?&gt;][label]&quot;
              value=&quot;&lt;?php echo $taxonomy_data[ &#x27;label&#x27; ]; ?&gt;&quot;/&gt;

            &lt;ul class=&quot;flawless_dropdown_options&quot; show_on_clone=&quot;true&quot;&gt;
              &lt;li class=&quot;flawless_delete_row&quot; verify_action=&quot;true&quot;&gt;Delete&lt;/li&gt;
            &lt;/ul&gt;

            &lt;span class=&quot;content_type_label&quot;&gt;&lt;?php _e( &#x27;Taxonomy&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/span&gt;

          &lt;/div&gt;

          &lt;div class=&quot;flawless_taxonomy_options flawless_half_width&quot;&gt;

            &lt;ul class=&quot;flawless_options_wrapper flawless_advanced_content_type_options&quot;&gt;

              &lt;li class=&quot;flawless_option&quot;&gt;
                &lt;label&gt;
                  &lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $taxonomy_data[ &#x27;hierarchical&#x27; ] ); ?&gt;
                    name=&quot;flawless_settings[taxonomies][&lt;?php echo $taxonomy_type; ?&gt;][hierarchical]&quot;
                    value=&quot;true&quot;/&gt;
                  &lt;?php _e( &#x27;Hierarchical.&#x27;, &#x27;flawless&#x27; ) ?&gt;
                &lt;/label&gt;
              &lt;/li&gt;

              &lt;li class=&quot;flawless_option&quot;&gt;
                &lt;label&gt;
                  &lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $taxonomy_data[ &#x27;exclude_from_search&#x27; ] ); ?&gt;
                    name=&quot;flawless_settings[taxonomies][&lt;?php echo $taxonomy_type; ?&gt;][exclude_from_search]&quot;
                    value=&quot;true&quot;/&gt;
                  &lt;?php _e( &#x27;Exclude from search.&#x27;, &#x27;flawless&#x27; ) ?&gt;
                &lt;/label&gt;
              &lt;/li&gt;

              &lt;?php if ( current_theme_supports( &#x27;extended-taxonomies&#x27; ) ) { ?&gt;
                &lt;li class=&quot;flawless_option&quot;&gt;
                  &lt;label&gt;
                    &lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $taxonomy_data[ &#x27;allow_term_thumbnail&#x27; ] ); ?&gt;
                      name=&quot;flawless_settings[taxonomies][&lt;?php echo $taxonomy_type; ?&gt;][allow_term_thumbnail]&quot;
                      value=&quot;true&quot;/&gt;
                    &lt;?php _e( &#x27;Enable featured images.&#x27;, &#x27;flawless&#x27; ) ?&gt;
                  &lt;/label&gt;
                &lt;/li&gt;
              &lt;?php } ?&gt;

              &lt;?php /*
              &lt;li class=&quot;flawless_option&quot;&gt;
                &lt;label&gt;
                  &lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $taxonomy_data[ &#x27;show_tagcloud&#x27; ] ); ?&gt;  name=&quot;flawless_settings[taxonomies][&lt;?php echo $taxonomy_type; ?&gt;][show_tagcloud]&quot; value=&quot;true&quot; /&gt;
                  &lt;?php _e( &#x27;Show tagcloud.&#x27; , &#x27;flawless&#x27; ) ?&gt;
                &lt;/label&gt;
              &lt;/li&gt;*/
              ?&gt;

              &lt;?php if ( $taxonomy_data[ &#x27;flawless_taxonomy&#x27; ] == &#x27;true&#x27; ) { ?&gt;
                &lt;li class=&quot;flawless_option&quot;&gt;
                  &lt;label&gt;
                    &lt;?php _e( &#x27;Rewrite slug:&#x27;, &#x27;flawless&#x27; ) ?&gt;
                    &lt;input type=&quot;text&quot; class=&quot;regular-text&quot;
                      name=&quot;flawless_settings[taxonomies][&lt;?php echo $taxonomy_type; ?&gt;][rewrite_slug]&quot;
                      value=&quot;&lt;?php echo $taxonomy_data[ &#x27;rewrite_slug&#x27; ]; ?&gt;&quot;/&gt;
                  &lt;/label&gt;
                &lt;/li&gt;
              &lt;?php } ?&gt;

              &lt;?php do_action( &#x27;flawless_taxonomies_advanced_options&#x27;, array(
                  &#x27;type&#x27; =&gt; $taxonomy_type,
                  &#x27;data&#x27; =&gt; $taxonomy_data,
                  &#x27;fs&#x27; =&gt; $flawless )
              ); ?&gt;

            &lt;/ul&gt; &lt;?php /* .flawless_options_wrapper */ ?&gt;

          &lt;/div&gt; &lt;?php /* .flawless_taxonomy_options.flawless_half_width */ ?&gt;

          &lt;div class=&quot;flawless_associated_widget_areas flawless_half_width&quot;&gt;
            &lt;?php  foreach ( ( array ) $flawless[ &#x27;widget_area_sections&#x27; ] as $was_slug =&gt; $was_data ) {

              $these_sidebars = $taxonomy_data[ &#x27;widget_areas&#x27; ][ $was_slug ];

              ?&gt;
              &lt;div class=&quot;flawless_was_pane&quot; was_slug=&quot;&lt;?php echo $was_slug; ?&gt;&quot;&gt;
                &lt;h3 class=&quot;flawless_was_pane_title&quot;&gt;&lt;?php echo $was_data[ &#x27;label&#x27; ]; ?&gt;&lt;/h3&gt;
                &lt;ul class=&quot;flawless_widget_area_list&quot; type=&quot;widget_area_holder&quot;&gt;

                  &lt;?php foreach ( ( array ) $these_sidebars as $sidebar_id ) {

                    Flawless_ui::flawless_widget_item( array(
                      &#x27;sidebar_id&#x27; =&gt; $sidebar_id,
                      &#x27;was_slug&#x27; =&gt; $was_slug,
                      &#x27;taxonomy_type&#x27; =&gt; $taxonomy_type,
                      &#x27;sidebar_data&#x27; =&gt; $sidebar_data
                    ) );

                  }
                  ?&gt;

                &lt;/ul&gt;
              &lt;/div&gt;
            &lt;?php } ?&gt;
          &lt;/div&gt;

          &lt;input type=&quot;hidden&quot; class=&quot;flawless_added_taxonomy&quot;
            name=&quot;flawless_settings[taxonomies][&lt;?php echo $taxonomy_type; ?&gt;][flawless_taxonomy]&quot;
            value=&quot;&lt;?php echo $taxonomy_data[ &#x27;flawless_taxonomy&#x27; ] ? $taxonomy_data[ &#x27;flawless_taxonomy&#x27; ] : &#x27;false&#x27;; ?&gt;&quot;/&gt;

        &lt;/div&gt; &lt;?php /*  .flawless_content_type_module*/ ?&gt;

      &lt;?php } /* end taxonomies loop */ ?&gt;

      &lt;div class=&quot;flawless_actions&quot;&gt;
        &lt;input type=&quot;button&quot; element_wrapper=&quot;.flawless_actions&quot; class=&quot;flawless_add_row button-secondary&quot;
          callback_function=&quot;flawless_added_custom_taxonomy&quot; value=&quot;&lt;?php _e( &#x27;Add Taxonomy&#x27;, &#x27;flawless&#x27; ) ?&gt;&quot;/&gt;
      &lt;/div&gt;

    &lt;/div&gt; &lt;?php /*  .ud_ui_dynamic_table */ ?&gt;

    &lt;/div&gt; &lt;?php /* .flawless_content_body */ ?&gt;

    &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
    &lt;/div&gt; &lt;?php /* .flawless_content_ui */ ?&gt;

  &lt;?php

  }

  /**
   * Design Related Options
   *
   * @author potanin@UD
   * @since Flawless 0.5.0
   */
  function options_ui_design( $flawless ) {

    $current_theme = get_theme( get_current_theme() );

    //** Determine if current theme is a child theme theme */
    if ( $current_theme[ &#x27;Template Dir&#x27; ] != $current_theme[ &#x27;Stylesheet Dir&#x27; ] ) {
      $child_theme_screen = trailingslashit( get_stylesheet_directory_uri() ) . $current_theme[ &#x27;Screenshot&#x27; ];
    } else {
      $child_theme_screen = false;
    }

    ?&gt;

    &lt;div class=&quot;tab_description&quot;&gt;
      &lt;?php if ( $child_theme_screen ) {
        _e( &#x27;Color scheme selection and other design &amp; layout related settings. You have an active Child Theme, which may override some of the settings you can configure here.&#x27;, &#x27;flawless&#x27; );
      } else {
        _e( &#x27;Color scheme selection and other design &amp; layout related settings.&#x27;, &#x27;flawless&#x27; );
      } ?&gt;
    &lt;/div&gt;

    &lt;table class=&quot;form-table&quot;&gt;
      &lt;tbody&gt;

      &lt;tr valign=&quot;top&quot; class=&quot;flawless_design_common_settings&quot;&gt;
        &lt;th&gt;&lt;?php _e( &#x27;Common Settings&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/th&gt;
        &lt;td&gt;
          &lt;ul&gt;
            &lt;li&gt;
              &lt;label&gt;
                &lt;?php _e( &#x27;Maximum Layout Width: &#x27;, &#x27;flawless&#x27; ); ?&gt;
                &lt;div class=&quot;input-append&quot;&gt;
                  &lt;input type=&quot;text&quot; name=&quot;flawless_settings[layout_width]&quot; class=&quot;small-text&quot; placeholder=&quot;1090&quot;
                    value=&quot;&lt;?php echo $flawless[ &#x27;layout_width&#x27; ]; ?&gt;&quot;/&gt;
                  &lt;span class=&quot;add-on&quot;&gt;px&lt;/span&gt;
                &lt;/div&gt;
                &lt;div
                  class=&quot;description&quot;&gt;&lt;?php _e( &#x27;Override the default layout width of 1090px. This is the maximum width, which means the layout will be resized on smaller devices. &#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/div&gt;
              &lt;/label&gt;
            &lt;/li&gt;
            &lt;?php if ( current_theme_supports( &#x27;custom-header&#x27; ) ) { ?&gt;
              &lt;li&gt;
                &lt;label&gt;
                  &lt;?php _e( &#x27;Header image dimensions: &#x27;, &#x27;flawless&#x27; ); ?&gt;
                  &lt;div class=&quot;input-append&quot;&gt;
                    &lt;input type=&quot;text&quot; name=&quot;flawless_settings[header_image_width]&quot; class=&quot;small-text&quot;
                      value=&quot;&lt;?php echo HEADER_IMAGE_WIDTH; ?&gt;&quot;/&gt;
                    &lt;span class=&quot;add-on&quot;&gt;px&lt;/span&gt;
                  &lt;/div&gt;
                &lt;/label&gt;
                &lt;label&gt;
                  &lt;?php _e( &#x27; by &#x27;, &#x27;flawless&#x27; ); ?&gt;
                  &lt;div class=&quot;input-append&quot;&gt;
                    &lt;input type=&quot;text&quot; name=&quot;flawless_settings[header_image_height]&quot; class=&quot;small-text&quot;
                      value=&quot;&lt;?php echo HEADER_IMAGE_HEIGHT; ?&gt;&quot;/&gt;
                    &lt;span class=&quot;add-on&quot;&gt;px&lt;/span&gt;
                  &lt;/div&gt;
                &lt;/label&gt;. &lt;a href=&quot;&lt;?php admin_url( &#x27;themes.php?page=custom-header&#x27; ); ?&gt;&quot;
                  class=&quot;button&quot;&gt;&lt;?php _e( &#x27;Edit header image. &#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/a&gt;
              &lt;/li&gt;
            &lt;?php } ?&gt;

            &lt;?php do_action( &#x27;flawless::options_ui_design::common_settings&#x27;, $flawless ); ?&gt;
          &lt;/ul&gt;
        &lt;/td&gt;
      &lt;/tr&gt;

      &lt;tr valign=&quot;top&quot; class=&quot;flawless_design_common_settings&quot;&gt;
        &lt;th&gt;&lt;?php _e( &#x27;Style Options&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/th&gt;
        &lt;td&gt;
          &lt;table&gt;

            &lt;?php foreach ( $flawless[ &#x27;css_options&#x27; ] as $option ) { ?&gt;
              &lt;?php echo Flawless_ui::render_theme_option_input( $option, array( &#x27;output&#x27; =&gt; &#x27;table_row&#x27; ) ); ?&gt;
            &lt;?php } ?&gt;

            &lt;?php do_action( &#x27;flawless::options_ui_design::style_options&#x27;, $flawless ); ?&gt;
          &lt;/table&gt;
        &lt;/td&gt;
      &lt;/tr&gt;

      &lt;?php if ( current_theme_supports( &#x27;custom-skins&#x27; ) ) { ?&gt;
        &lt;tr valign=&quot;top&quot; class=&quot;color_schemes&quot;&gt;
          &lt;th&gt;&lt;?php _e( &#x27;Skin Selection&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/th&gt;
          &lt;td&gt;
            &lt;?php /* &lt;div class=&quot;description&quot;&gt;&lt;?php _e( &#x27;A Skin is like a child theme, and usually includes custom colors, spacing, and fonts. &#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/div&gt; */ ?&gt;
            &lt;?php echo Flawless_ui::skin_selection(); ?&gt;&lt;/td&gt;
        &lt;/tr&gt;
      &lt;?php } ?&gt;

      &lt;/tbody&gt;
    &lt;/table&gt;

  &lt;?php

  }

  /**
   * Advanced Options Page
   *
   * @todo &#x27;Reset Flexible Layout&#x27; should be inserted via Editor API
   * @since Flawless 0.2.3
   */
  function options_ui_advanced( $flawless ) {
    ?&gt;

    &lt;div
      class=&quot;tab_description&quot;&gt;&lt;?php _e( &#x27;Consult documentation before making changes on the Advanced tab.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/div&gt;

    &lt;table class=&quot;form-table&quot;&gt;
      &lt;tbody&gt;
      &lt;tr&gt;

      &lt;tr&gt;
        &lt;th&gt;&lt;?php _e( &#x27;Common Actions&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/th&gt;
        &lt;td&gt;
          &lt;ul class=&quot;flawless&quot; flawless=&quot;action_list&quot;&gt;
            &lt;li flawless_action=&quot;clean_up_revisions&quot; class=&quot;flawless_action&quot;
              processing_label=&quot;&lt;?php _e( &#x27;Processing...&#x27;, &#x27;flawless&#x27; ); ?&gt;&quot;&gt;
              &lt;span class=&quot;button execute_action&quot;&gt;&lt;?php _e( &#x27;Clean Up Post Revisions&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/span&gt;
              &lt;span
                class=&quot;description&quot;&gt;&lt;?php printf( __( &#x27;Check all post types that support revisions, and remove all but the %1s most recent.&#x27;, &#x27;flawless&#x27; ), intval( defined( &#x27;WP_POST_REVISIONS&#x27; ) ? WP_POST_REVISIONS : 3 ) ); ?&gt;&lt;/span&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;/td&gt;
      &lt;/tr&gt;

      &lt;th&gt;&lt;?php _e( &#x27;Advanced Settings&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/th&gt;
      &lt;td&gt;
        &lt;ul class=&quot;wp-tab-panel&quot;&gt;
          &lt;li&gt;
            &lt;label&gt;
              &lt;input type=&quot;checkbox&quot;
                &lt;?php checked( $flawless[ &#x27;maintanance_mode&#x27; ], &#x27;true&#x27; ); ?&gt;name=&quot;flawless_settings[maintanance_mode]&quot;
                value=&quot;true&quot;/&gt;
              &lt;?php _e( &#x27;Put site into maintanance mode.&#x27;, &#x27;flawless&#x27; ); ?&gt;
            &lt;/label&gt;

            &lt;div
              class=&quot;description&quot;&gt;&lt;?php _e( &#x27;Maintanance mode will display a splash image on front-end for non-administrators while you make changes.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/div&gt;
          &lt;/li&gt;

          &lt;li&gt;
            &lt;label&gt;
              &lt;input type=&quot;checkbox&quot; &lt;?php checked( $flawless[ &#x27;developer_mode&#x27; ], &#x27;true&#x27; ); ?&gt;
                name=&quot;flawless_settings[developer_mode]&quot; value=&quot;true&quot;/&gt;
              &lt;?php _e( &#x27;Enable developer and debug mode.&#x27;, &#x27;flawless&#x27; ); ?&gt;
            &lt;/label&gt;
          &lt;/li&gt;

          &lt;li&gt;
            &lt;label&gt;
              &lt;input type=&quot;checkbox&quot; &lt;?php checked( $flawless[ &#x27;console_log_options&#x27; ][ &#x27;show_log&#x27; ], &#x27;true&#x27; ); ?&gt;
                name=&quot;flawless_settings[console_log_options][show_log]&quot; value=&quot;true&quot;/&gt;
              &lt;?php _e( &#x27;Display basic log entries in console log.&#x27;, &#x27;flawless&#x27; ); ?&gt;
              &lt;span
                class=&quot;description&quot;&gt;&lt;?php _e( &#x27;Error and Info log entries are always displayed (when debug mode is enabled).&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/span&gt;
            &lt;/label&gt;
          &lt;/li&gt;

          &lt;li&gt;
            &lt;label&gt;
              &lt;input type=&quot;checkbox&quot; &lt;?php checked( $flawless[ &#x27;do_not_compile_plugin_css&#x27; ], &#x27;true&#x27; ); ?&gt;
                name=&quot;flawless_settings[do_not_compile_plugin_css]&quot; value=&quot;true&quot;/&gt;
              &lt;?php _e( &#x27;Exclude CSS added by plugins from compilation.&#x27;, &#x27;flawless&#x27; ); ?&gt;
            &lt;/label&gt;
          &lt;/li&gt;

          &lt;li&gt;
            &lt;label&gt;
              &lt;input type=&quot;checkbox&quot; &lt;?php checked( $flawless[ &#x27;visual_debug&#x27; ], &#x27;true&#x27; ); ?&gt;
                name=&quot;flawless_settings[visual_debug]&quot; value=&quot;true&quot;/&gt;
              &lt;?php _e( &#x27;Enable visual debug mode.&#x27;, &#x27;flawless&#x27; ); ?&gt;
              &lt;span
                class=&quot;description&quot;&gt;&lt;?php _e( &#x27;Adds additional markup to front-end for layout design.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/span&gt;
            &lt;/label&gt;
          &lt;/li&gt;

          &lt;li&gt;
            &lt;label&gt;
              &lt;input type=&quot;checkbox&quot; &lt;?php checked( $flawless[ &#x27;disable_updates&#x27; ][ &#x27;plugins&#x27; ], &#x27;true&#x27; ); ?&gt;
                name=&quot;flawless_settings[disable_updates][plugins]&quot; value=&quot;true&quot;/&gt;
              &lt;?php _e( &#x27;Disable WordPress plugin update notifications.&#x27;, &#x27;flawless&#x27; ); ?&gt;
            &lt;/label&gt;
          &lt;/li&gt;

          &lt;?php do_action( &#x27;flawless::options_ui_advanced::advanced_settings&#x27;, $flawless ); ?&gt;

        &lt;/ul&gt;
      &lt;/td&gt;
      &lt;/tr&gt;

      &lt;tr valign=&quot;top&quot; class=&quot;flawless_javaScript_enhancements&quot;&gt;
        &lt;th&gt;&lt;?php _e( &#x27;JavaScript Enhancements&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/th&gt;
        &lt;td&gt;
          &lt;ul class=&quot;wp-tab-panel&quot;&gt;
            &lt;li&gt;&lt;label&gt;&lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $flawless[ &#x27;disable_masonry&#x27; ] ); ?&gt;
                  name=&quot;flawless_settings[disable_masonry]&quot;
                  value=&quot;true&quot;/&gt; &lt;?php _e( &#x27;Disable Masonry.&#x27;, &#x27;flawless&#x27; ); ?&gt; &lt;span
                  class=&quot;description&quot;&gt;&lt;?php _e( &#x27;Removes masonry library, which is applied to Galleries, or on demand using .enable-masonry class.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/span&gt;&lt;/label&gt;
            &lt;/li&gt;
            &lt;li&gt;&lt;label&gt;&lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $flawless[ &#x27;disable_equalheights&#x27; ] ); ?&gt;
                  name=&quot;flawless_settings[disable_equalheights]&quot;
                  value=&quot;true&quot;/&gt; &lt;?php _e( &#x27;Disable EqualHeights.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/label&gt;&lt;/li&gt;
            &lt;li&gt;&lt;label&gt;&lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $flawless[ &#x27;enable_lazyload&#x27; ] ); ?&gt;
                  name=&quot;flawless_settings[enable_lazyload]&quot;
                  value=&quot;true&quot;/&gt; &lt;?php _e( &#x27;Enable LazyLoad.&#x27;, &#x27;flawless&#x27; ); ?&gt; &lt;span
                  class=&quot;description&quot;&gt;&lt;?php _e( &#x27;Add .lazy class to images to use.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/span&gt;&lt;/label&gt;
            &lt;/li&gt;
            &lt;li&gt;&lt;label&gt;&lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $flawless[ &#x27;enable_google_pretify&#x27; ] ); ?&gt;
                  name=&quot;flawless_settings[enable_google_pretify]&quot;
                  value=&quot;true&quot;/&gt; &lt;?php _e( &#x27;Enable Google Pretify.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/label&gt;&lt;/li&gt;
            &lt;li&gt;&lt;label&gt;&lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $flawless[ &#x27;enable_dynamic_filter&#x27; ] ); ?&gt;
                  name=&quot;flawless_settings[enable_dynamic_filter]&quot;
                  value=&quot;true&quot;/&gt; &lt;?php _e( &#x27;Enable Dynamic Filter.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/label&gt;&lt;/li&gt;
            &lt;li&gt;&lt;label&gt;&lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $flawless[ &#x27;disable_form_helper&#x27; ] ); ?&gt;
                  name=&quot;flawless_settings[disable_form_helper]&quot;
                  value=&quot;true&quot;/&gt; &lt;?php _e( &#x27;Disable Form Helper.&#x27;, &#x27;flawless&#x27; ); ?&gt; &lt;/label&gt;&lt;/li&gt;
            &lt;li&gt;&lt;label&gt;&lt;input type=&quot;checkbox&quot; &lt;?php checked( &#x27;true&#x27;, $flawless[ &#x27;disable_fancybox&#x27; ] ); ?&gt;
                  name=&quot;flawless_settings[disable_fancybox]&quot;
                  value=&quot;true&quot;/&gt; &lt;?php _e( &#x27;Disable FancyBox.&#x27;, &#x27;flawless&#x27; ); ?&gt; &lt;span
                  class=&quot;description&quot;&gt;&lt;?php _e( &#x27;Enabled by default and applied to all images.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/span&gt;&lt;/label&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;/td&gt;
      &lt;/tr&gt;

      &lt;tr valign=&quot;top&quot; class=&quot;flawless_backup_and_restoration&quot;&gt;
        &lt;th&gt;&lt;?php _e( &#x27;Backup and Restoration&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/th&gt;
        &lt;td&gt;
          &lt;ul class=&quot;flawless&quot; flawless=&quot;action_list&quot;&gt;
            &lt;li&gt;
              &lt;a class=&quot;button&quot;
                href=&quot;&lt;?php echo wp_nonce_url( &quot;themes.php?page=functions.php&amp;flawless_action=download-backup&quot;, &#x27;download-flawless-backup&#x27; ); ?&gt;&quot;&gt;
                &lt;?php _e( &#x27;Download Configuration Backup&#x27;, &#x27;flawless&#x27; ); ?&gt;
              &lt;/a&gt;
              &lt;span
                class=&quot;description&quot;&gt;&lt;?php _e( &#x27;Export the entire configuration into a .json file, which may be restored to this site, or another.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/span&gt;
            &lt;/li&gt;
            &lt;li&gt;
              &lt;?php _e( &#x27;Restore from file&#x27;, &#x27;flawless&#x27; ); ?&gt;: &lt;input name=&quot;flawless_settings[settings_from_backup]&quot;
                type=&quot;file&quot;/&gt;
              &lt;span class=&quot;description&quot;&gt;&lt;?php _e( &#x27;Backup will overwrite all current settings.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/span&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;/td&gt;
      &lt;/tr&gt;

      &lt;tr&gt;
        &lt;th&gt;&lt;?php _e( &#x27;Debugging&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/th&gt;
        &lt;td&gt;
          &lt;ul class=&quot;flawless&quot; flawless=&quot;action_list&quot;&gt;

            &lt;li flawless_action=&quot;show_permalink_structure&quot; class=&quot;flawless_action&quot;
              processing_label=&quot;&lt;?php _e( &#x27;Processing...&#x27;, &#x27;flawless&#x27; ); ?&gt;&quot;&gt;
              &lt;span class=&quot;button execute_action&quot;&gt;&lt;?php _e( &#x27;Show Permalink Structure&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/span&gt;
            &lt;/li&gt;

            &lt;li&gt;
            &lt;li flawless_action=&quot;show_flawless_configuration&quot; class=&quot;flawless_action&quot;
              processing_label=&quot;&lt;?php _e( &#x27;Processing...&#x27;, &#x27;flawless&#x27; ); ?&gt;&quot;&gt;
              &lt;span class=&quot;button execute_action&quot;&gt;&lt;?php _e( &#x27;Show Flawless Configuration&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/span&gt;
            &lt;/li&gt;

          &lt;/ul&gt;

        &lt;/td&gt;
      &lt;/tr&gt;

      &lt;tr&gt;
        &lt;th&gt;&lt;?php _e( &#x27;Advanced Actions&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/th&gt;
        &lt;td&gt;
          &lt;ul class=&quot;flawless&quot; flawless=&quot;action_list&quot;&gt;

            &lt;?php if ( current_theme_supports( &#x27;frontend-editor&#x27; ) ) { ?&gt;
              &lt;li flawless_action=&quot;delete_flex_settings&quot; class=&quot;flawless_action&quot;
                processing_label=&quot;&lt;?php _e( &#x27;Processing...&#x27;, &#x27;flawless&#x27; ); ?&gt;&quot;
                verify_action=&quot;&lt;?php _e( &#x27;Are you sure?&#x27;, &#x27;flawless&#x27; ); ?&gt;&quot;&gt;
                &lt;span class=&quot;button execute_action&quot;&gt;&lt;?php _e( &#x27;Reset Flexible Layout&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/span&gt;
                &lt;span
                  class=&quot;description&quot;&gt;&lt;?php _e( &#x27;Delete all flexible layout ( header and footer ) settings and reset to default.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/span&gt;
              &lt;/li&gt;
            &lt;?php } ?&gt;

            &lt;li flawless_action=&quot;delete_all_settings&quot; class=&quot;flawless_action&quot;
              processing_label=&quot;&lt;?php _e( &#x27;Processing...&#x27;, &#x27;flawless&#x27; ); ?&gt;&quot;
              verify_action=&quot;&lt;?php _e( &#x27;You are about to delete all theme settings, are you sure?&#x27;, &#x27;flawless&#x27; ); ?&gt;&quot;&gt;
              &lt;span class=&quot;button execute_action&quot;&gt;&lt;?php _e( &#x27;Delete all Theme Settings&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/span&gt;
              &lt;span
                class=&quot;description&quot;&gt;&lt;?php _e( &#x27;Completely remove all Flawless Theme settings and reset to default.&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/span&gt;
            &lt;/li&gt;

          &lt;/ul&gt;

        &lt;/td&gt;
      &lt;/tr&gt;

      &lt;/tbody&gt;
    &lt;/table&gt;

  &lt;?php
  }

  /**
   * Renders Skin Selection
   *
   * @todo &#x27;Reset Flexible Layout&#x27; should be inserted via Editor API
   * @since Flawless 0.5.0
   */
  function skin_selection( $args = false ) {
    global $flawless;

    $color_schemes = Flawless::get_color_schemes();

    ob_start(); ?&gt;

    &lt;ul class=&quot;flawless_color_schemes block_options&quot;&gt;
      &lt;?php foreach ( ( array ) $color_schemes as $scheme =&gt; $scheme_data ) { ?&gt;
        &lt;li class=&quot;flawless_setup_option_block&quot;&gt;
          &lt;?php if ( $scheme_data[ &#x27;thumb_url&#x27; ] ) { ?&gt;
            &lt;div class=&quot;skin_thumb_placeholder&quot;&gt;
              &lt;img class=&quot;skin_thumb&quot; src=&quot;&lt;?php echo $scheme_data[ &#x27;thumb_url&#x27; ]; ?&gt;&quot;
                title=&quot;&lt;?php echo esc_attr( $scheme_data[ &#x27;Name&#x27; ] ); ?&gt;&quot;/&gt;
            &lt;/div&gt;
          &lt;?php } else { ?&gt;
            &lt;div class=&quot;skin_thumb_placeholder flawless_no_image&quot;&gt;
              &lt;img class=&quot;skin_thumb&quot; src=&quot;&lt;?php echo Flawless::load( &#x27;no-skin-thumbanil.gif&#x27;, &#x27;image&#x27; ); ?&gt;&quot;
                title=&quot;&lt;?php _e( &#x27;No Thumbnail Found&#x27;, &#x27;flawless&#x27; ); ?&gt;&quot;/&gt;
            &lt;/div&gt;
          &lt;?php } ?&gt;
          &lt;input class=&quot;checkbox&quot;
            group=&quot;flawless_color_scheme&quot; &lt;?php checked( $scheme, $flawless[ &#x27;color_scheme&#x27; ] ); ?&gt; type=&quot;checkbox&quot;
            name=&quot;flawless_settings[color_scheme]&quot; id=&quot;color_scheme_&lt;?php echo $scheme; ?&gt;&quot;
            value=&quot;&lt;?php echo $scheme; ?&gt;&quot;/&gt;

          &lt;div class=&quot;option_note&quot;&gt;
            &lt;strong&gt;&lt;?php echo $scheme_data[ &#x27;Name&#x27; ]; ?&gt;&lt;/strong&gt;&lt;br/&gt;&lt;?php echo $scheme_data[ &#x27;Description&#x27; ]; ?&gt;
          &lt;/div&gt;
        &lt;/li&gt;
      &lt;?php } ?&gt;
      &lt;li class=&quot;flawless_setup_option_block&quot;&gt;
        &lt;div class=&quot;skin_thumb_placeholder flawless_no_image&quot;&gt;
          &lt;img class=&quot;skin_thumb&quot; src=&quot;&lt;?php echo Flawless::load( &#x27;no-skin-thumbanil.gif&#x27;, &#x27;image&#x27; ); ?&gt;&quot;
            title=&quot;&lt;?php _e( &#x27;No Thumbnail Found&#x27;, &#x27;flawless&#x27; ); ?&gt;&quot;/&gt;
        &lt;/div&gt;
        &lt;input class=&quot;checkbox&quot; group=&quot;flawless_color_scheme&quot; &lt;?php checked( false, $flawless[ &#x27;color_scheme&#x27; ] ); ?&gt;
          type=&quot;checkbox&quot; name=&quot;flawless_settings[color_scheme]&quot; id=&quot;color_scheme_&lt;?php echo $scheme; ?&gt;&quot;
          value=&quot;&quot;/&gt;

        &lt;div class=&quot;option_note&quot;&gt;
          &lt;strong&gt;&lt;?php _e( &#x27;No Skin&#x27;, &#x27;flawless&#x27; ); ?&gt;&lt;/strong&gt;&lt;br/&gt;&lt;?php _e( &#x27;Twitter Bootstrap, Base and plugin-specific (when available) CSS only.&#x27;, &#x27;flawless&#x27; ); ?&gt;
        &lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;

    &lt;?php

    $html = ob_get_contents();
    ob_end_clean();

    return $html;

  }

  /**
   * Render widget area item
   *
   * @todo &#x27;Reset Flexible Layout&#x27; should be inserted via Editor API
   * @since Flawless 0.2.3
   */
  function flawless_widget_item( $args = false ) {
    global $flawless;

    $sidebar_id = $args[ &#x27;sidebar_id&#x27; ];

    $description = $flawless[ &#x27;widget_areas&#x27; ][ &#x27;all&#x27; ][ $sidebar_id ][ &#x27;description&#x27; ] ? $flawless[ &#x27;widget_areas&#x27; ][ &#x27;all&#x27; ][ $sidebar_id ][ &#x27;description&#x27; ] : &#x27;&#x27;;
    $sidebar_data = $flawless[ &#x27;widget_areas&#x27; ][ &#x27;all&#x27; ][ $sidebar_id ];

    $sidebar_data[ &#x27;name&#x27; ] = $sidebar_data[ &#x27;name&#x27; ] ? $sidebar_data[ &#x27;name&#x27; ] : __( &#x27;Missing Title: &#x27;, &#x27;flawless&#x27; ) . $sidebar_id;

    $classes = array( &#x27;flawless_widget_item&#x27; );

    if ( $args[ &#x27;sidebar_data&#x27; ][ &#x27;flawless_widget_area&#x27; ] ) {
      $classes[ ] = &#x27;flawless_widget_area&#x27;;
    }

    if ( !empty( $sidebar_data[ &#x27;description&#x27; ] ) ) {
      $classes[ ] = &#x27;have_description&#x27;;
    }

    ?&gt;

    &lt;li class=&quot;&lt;?php echo implode( &#x27; &#x27;, ( array ) $classes ); ?&gt;&quot; sidebar_name=&quot;&lt;?php echo $sidebar_id; ?&gt;&quot;
      do_not_clone=&quot;true&quot;
      flawless_widget_area=&quot;&lt;?php echo $args[ &#x27;sidebar_data&#x27; ][ &#x27;flawless_widget_area&#x27; ] ? &#x27;true&#x27; : &#x27;false&#x27;; ?&gt;&quot;&gt;
      &lt;div class=&quot;handle&quot;&gt;&lt;/div&gt;

      &lt;?php if ( $args[ &#x27;sidebar_data&#x27; ][ &#x27;flawless_widget_area&#x27; ] == &#x27;true&#x27; ) { ?&gt;

        &lt;input type=&quot;text&quot; name=&quot;flawless_settings[flawless_widget_areas][&lt;?php echo $sidebar_id; ?&gt;][label]&quot;
          class=&quot;flawless_wa&quot; attribute=&quot;name&quot; value=&quot;&lt;?php echo $sidebar_data[ &#x27;name&#x27; ] ?&gt;&quot;/&gt;
        &lt;input type=&quot;hidden&quot; name=&quot;flawless_settings[flawless_widget_areas][&lt;?php echo $sidebar_id; ?&gt;][class]&quot;
          class=&quot;flawless_wa&quot; attribute=&quot;class&quot; value=&quot;&lt;?php echo $sidebar_data[ &#x27;class&#x27; ]; ?&gt;&quot;/&gt;

      &lt;?php } else { ?&gt;

        &lt;input type=&quot;text&quot; class=&quot;flawless_wa&quot; attribute=&quot;name&quot; value=&quot;&lt;?php echo $sidebar_data[ &#x27;name&#x27; ] ?&gt;&quot;
          readonly=&quot;true&quot;/&gt;
        &lt;div class=&quot;flawless_wa&quot; attribute=&quot;description&quot;&gt;&lt;?php echo $sidebar_data[ &#x27;description&#x27; ]; ?&gt;&lt;/div&gt;

      &lt;?php } ?&gt;

      &lt;?php if ( isset( $args[ &#x27;post_type&#x27; ] ) ) { ?&gt;
        &lt;input do_not_clone=&quot;true&quot; type=&quot;hidden&quot;
          name=&quot;flawless_settings[post_types][&lt;?php echo $args[ &#x27;post_type&#x27; ]; ?&gt;][widget_areas][&lt;?php echo $args[ &#x27;was_slug&#x27; ]; ?&gt;][]&quot;
          value=&quot;&lt;?php echo $sidebar_id; ?&gt;&quot;/&gt;
      &lt;?php } ?&gt;

      &lt;?php if ( isset( $args[ &#x27;taxonomy_type&#x27; ] ) ) { ?&gt;
        &lt;input do_not_clone=&quot;true&quot; type=&quot;hidden&quot;
          name=&quot;flawless_settings[taxonomies][&lt;?php echo $args[ &#x27;taxonomy_type&#x27; ]; ?&gt;][widget_areas][&lt;?php echo $args[ &#x27;was_slug&#x27; ]; ?&gt;][]&quot;
          value=&quot;&lt;?php echo $sidebar_id; ?&gt;&quot;/&gt;
      &lt;?php } ?&gt;

      &lt;div
        class=&quot;delete&quot; &lt;?php echo $args[ &#x27;widget_area_selector&#x27; ] ? &#x27;verify_action=&quot;Are you sure? You cannot undo this.&quot;&#x27; : &#x27;&#x27;; ?&gt;&gt;&lt;/div&gt;
    &lt;/li&gt;

  &lt;?php

  }

  /**
   * Render option for LESS/CSS options
   *
   * @since Flawless 0.6.1
   */
  function render_theme_option_input( $option = false, $args = &#x27;&#x27; ) {
    global $flawless;

    $args = wp_parse_args( $args, array(
      &#x27;output&#x27; =&gt; &#x27;table_row&#x27;
    ) );

    switch ( $option[ &#x27;type&#x27; ] ) {

      case &#x27;color&#x27;:
        $html[ ] = &#x27;&lt;input type=&quot;text&quot; name=&quot;flawless_settings[css_options][&#x27; . $option[ &#x27;name&#x27; ] . &#x27;][value]&quot; class=&quot;regular-text flawless_color_picker&quot; placeholder=&quot;&quot; value=&quot;&#x27; . esc_attr( $flawless[ &#x27;css_options&#x27; ][ $option[ &#x27;name&#x27; ] ][ &#x27;value&#x27; ] ) . &#x27;&quot; /&gt;&#x27;;
        break;

      case &#x27;font&#x27;:
        $html[ ] = &#x27;&lt;input type=&quot;text&quot; name=&quot;flawless_settings[css_options][&#x27; . $option[ &#x27;name&#x27; ] . &#x27;][value]&quot; class=&quot;regular-text&quot; placeholder=&quot;&quot; value=&quot;&#x27; . esc_attr( $flawless[ &#x27;css_options&#x27; ][ $option[ &#x27;name&#x27; ] ][ &#x27;value&#x27; ] ) . &#x27;&quot; /&gt;&#x27;;

        break;

      case &#x27;pixels&#x27;:
        $html[ ] = &#x27;&lt;div class=&quot;input-append&quot;&gt;&#x27;;
        $html[ ] = &#x27;&lt;input type=&quot;text&quot; name=&quot;flawless_settings[css_options][&#x27; . $option[ &#x27;name&#x27; ] . &#x27;][value]&quot; class=&quot;small-text&quot; placeholder=&quot;&quot; value=&quot;&#x27; . esc_attr( $flawless[ &#x27;css_options&#x27; ][ $option[ &#x27;name&#x27; ] ][ &#x27;value&#x27; ] ) . &#x27;&quot; /&gt;&#x27;;
        $html[ ] = &#x27;&lt;span class=&quot;add-on&quot;&gt;px&lt;/span&gt;&#x27;;
        $html[ ] = &#x27;&lt;/div&gt;&#x27;;
        break;

      case &#x27;percentage&#x27;:
        $html[ ] = &#x27;&lt;div class=&quot;input-append&quot;&gt;&#x27;;
        $html[ ] = &#x27;&lt;input type=&quot;text&quot; name=&quot;flawless_settings[css_options][&#x27; . $option[ &#x27;name&#x27; ] . &#x27;][value]&quot; class=&quot;small-text&quot; placeholder=&quot;&quot; value=&quot;&#x27; . esc_attr( $flawless[ &#x27;css_options&#x27; ][ $option[ &#x27;name&#x27; ] ][ &#x27;value&#x27; ] ) . &#x27;&quot; /&gt;&#x27;;
        $html[ ] = &#x27;&lt;span class=&quot;add-on&quot;&gt;%&lt;/span&gt;&#x27;;
        $html[ ] = &#x27;&lt;/div&gt;&#x27;;
        break;

      case &#x27;hidden&#x27;:
      default:

        break;

    }

    if ( empty( $html ) ) {
      return;
    }

    if ( $option[ &#x27;description&#x27; ] ) {
      $html[ ] = &#x27;&lt;div class=&quot;description&quot;&gt;&#x27; . $option[ &#x27;description&#x27; ] . &#x27;&lt;/div&gt;&#x27;;
    }

    switch ( $args[ &#x27;output&#x27; ] ) {
      case &#x27;table_row&#x27;:
        return &#x27;&lt;tr&gt;&lt;th&gt;&#x27; . $option[ &#x27;label&#x27; ] . &#x27;&lt;/th&gt;&lt;td&gt;&#x27; . implode( &#x27;&#x27;, (array) $html ) . &#x27;&lt;/td&gt;&lt;/tr&gt;&#x27;;
        break;

    }

  }

}



    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
