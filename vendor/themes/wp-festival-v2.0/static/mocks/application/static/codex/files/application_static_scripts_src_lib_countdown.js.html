<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>application/static/scripts/src/lib/countdown.js - scmf</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="http://media.usabilitydynamics.com/logo.png" title="scmf"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 1.0.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/buytickets.html">buytickets</a></li>
            
                <li><a href="../classes/countDown.html">countDown</a></li>
            
                <li><a href="../classes/dotdotdot.html">dotdotdot</a></li>
            
                <li><a href="../classes/equalize.html">equalize</a></li>
            
                <li><a href="../classes/EventEmitter Manages event registering and emitting..html">EventEmitter Manages event registering and emitting.</a></li>
            
                <li><a href="../classes/masonry.html">masonry</a></li>
            
                <li><a href="../classes/navigation.html">navigation</a></li>
            
                <li><a href="../classes/smoothscroll.html">smoothscroll</a></li>
            
                <li><a href="../classes/stickem.html">stickem</a></li>
            
                <li><a href="../classes/stickynav.html">stickynav</a></li>
            
                <li><a href="../classes/swipe.html">swipe</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/init.html">init</a></li>
            
                <li><a href="../modules/SCMF.html">SCMF</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: application/static/scripts/src/lib/countdown.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * Sets up the countDown timer, attaches to .count-down tag and calculates the remaining
 * time from today - data-todate attribute.
 *
 * @class countDown
 * @return {Object} init() function to bootstrap the countDown class
 */
define( [&#x27;jquery&#x27;], function( $ ){

  var countDown = {

    toDate: null,
    element: $( &#x27;.count-down&#x27; ),

    day: 0,
    hour: 0,
    minute: 0,
    second: 0,

    timer: null,
    _s: 1000,
    _m: 0,
    _h: 0,
    _d: 0,

    /**
     * Get the day, hour, minute, second elements
     *
     * @method getElements
     * @return void
     */
    getElements: function(){
      this.day = $( &#x27;.days&#x27;, this.element );
      this.hour = $( &#x27;.hours&#x27;, this.element );
      this.minute = $( &#x27;.minutes&#x27;, this.element );
      this.second = $( &#x27;.seconds&#x27;, this.element );
    },

    /**
     * Get the &#x27;to date&#x27; from the count-down element
     *
     * @method getToDate
     * @return void
     */
    getToDate: function(){
      this.toDate = new Date( this.element.data( &#x27;todate&#x27; ) );
    },

    /**
     * Calculate the remaining time to the end date
     *
     * @method calcRemaining
     * @return void
     */
    calcRemaining: function(){
      var now = new Date();
      var distance = this.toDate - now;

      if( distance &lt; 0 ){
        $( &#x27;strong&#x27;, this.day ).html( &#x27;0&#x27; );
        $( &#x27;strong&#x27;, this.hour ).html( &#x27;0&#x27; );
        $( &#x27;strong&#x27;, this.minute ).html( &#x27;0&#x27; );
        $( &#x27;strong&#x27;, this.second ).html( &#x27;0&#x27; );

        clearInterval( this.timer );

        return false;
      }

      var seconds = Math.floor( (distance % countDown._m) / countDown._s );
      var minutes = Math.floor( (distance % countDown._h) / countDown._m );
      var hours = Math.floor( (distance % countDown._d) / countDown._h );
      var days = Math.floor( distance / countDown._d );

      $( &#x27;strong&#x27;, this.day ).html( days );
      $( &#x27;strong&#x27;, this.hour ).html( hours );
      $( &#x27;strong&#x27;, this.minute ).html( minutes );
      $( &#x27;strong&#x27;, this.second ).html( seconds );
    },

    /**
     * Set up an interval to animate the count down.
     *
     * @method startTimer
     * @return void
     */
    startTimer: function(){
      this._s = 1000;
      this._m = this._s * 60;
      this._h = this._m * 60;
      this._d = this._h * 24;

      var that = this;
      this.timer = setInterval( function(){
        return that.calcRemaining();
      }, 1000 );
    }
  };

  return {

    init: function(){

      countDown.getElements();
      countDown.getToDate();
      countDown.startTimer();
    }
  }

} );

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
